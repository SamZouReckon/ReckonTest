["/*4acac08d1915721b2f6f55f384173025f0034d16",42,554983,555737,744,"util.Log",641045,41,"Log\",debug:function(a){",555009,733,556483,2447,"tel\"}",558950,439,"else{this.setValue(a.replace(/\\D/g,\"\"))",559388,2765,"area",562153,340,";RM.Log.debug(\"Cashbook loaded as Read Only, permissions overrides will apply to AddEdit, Delete and certain Do actions.\")",562493,13076,"this.config.sortfields==null)",571772,35,573135,34,575644,9148,"itemId:\"version\",html:\"",584809,73,"itemId:\"apiVersion\",html:\"",584809,2758,"onSelect:function(c,b,a",444831,34,"fireEvent(\"itemselected\",b.raw)",587565,2022,";this.setUpNavigationListeners(",589586,4945,"document.activeElement.blur()",594586,100,",setUpNavigationListeners",592713,34,"addListener(\"itemselected\",function(a){this.navigationHandler(a,this.activeView)},this);this.mainView.addListener(\"activeitemchange\",function(a,c,b){this.navigationHandler(c,b)},this)},getActiveView:function(){return this.activeView},navigationHandler:function(b,a){b=this.viewOrActiveSlideNavChild(b);a=this.viewOrActiveSlideNavChild(a);this.activeView=b;this.app.fireEvent(\"rm-activeviewchanged\",b)},viewOrActiveSlideNavChild:function(a){if(a.xtype===\"slidenavigationview\"){return this.mainNavContainer.getActiveItem().raw}else{return a}",594685,7111,"d,a,c,b",601797,64,",d,a,c,b)",601873,34,"setCashbookId(null);this.setCurrentCashbook(null)",601922,67,602022,120,601989,36,602145,224,",function(b,c){RM.AppMgr.showErrorMsgBox(c);RM.AppMgr.login()})},this)},setCashbook:function(e,f,a,d,b){var c=this;",602407,59,"e},function(g){c.setCashbookId(e);c.setCurrentCashbook(g",602528,54,"g",602583,75,"g",602659,78,"g",602738,73,"g",602812,48,"c",602864,34,"c",602902,33,"f){f.call(a)}},a,d,\"Loading book...\",b)",571772,35,603013,4545,607615,56,",",607543,56,607671,215,607922,2143,610085,13645,"this.getItemsLabelHtml(true)",623772,372,"getItemsLabelHtml:function(a){return a?'Items",556831,36,":'<span style=\"color: #F00\">Items *</span>'",624142,1158,";this.validateForm()",625300,1016,",validateForm:function(){var a=this.getViewData().length>0;this",625673,41,"this.getItemsLabelHtml(a))",637102,40,626346,17638,"doAfterLogin(b",644109,40,"ViewMgr.back(",644207,302,"doAfterLogin(a",644634,85,"doAfterLogin:",644492,144,"if(a.LoginAlert",647999,32,"LastLoginAlert\"),c=null;if(b){c=Ext.decode(b)}if(!c||(c.AlertId!=a.LoginAlert.AlertId)||(a.LoginAlert.RepeatInterval>0&&Ext.Date.now()/1000-c.LastShown>a.LoginAlert.RepeatInterval)){this.showRMMsgPopup(a.LoginAlert.Text,a.LoginAlert.AlertType,[{text:\"OK\",itemId:\"ok\"}]);localStorage.setItem(\"RmLastLoginAlert\",Ext.encode({AlertId:a.LoginAlert.AlertId,LastShown:Ext.Date.now()/1000}))}}",644717,2709,"CommsError",647434,183,"CommsError",647625,353,"howCommsError:function(a){if(!this.showingCommsError){this.showingCommsError=true;this.showOkMsgBox(a,function(){this.showingCommsError=false},this)",647974,3064,"g,f,b,a,e,d){",651152,44,"if(!Ext.isEmpty(f)){c.add({xtype:\"image\",src:\"resources/images/rm-msgbox-\"+f+\".svg\"",651222,40,"}c.add({xtype:\"component\",html:g",651294,215,"h){c.hide();if(a&&e){a.call(e,h",650965,38,651578,512,"warning",652090,93,"warning",652183,121,"warning",652304,2135,"config:{refs:{mainView:\"mainview\"},control:{mainView:{activeitemchange:\"onActivate\"}}}",654438,80,",onActivate:function(a,c,b){",654517,7096,",version:\"about #version\",apiVersion:\"about #apiVersion\"},control:{about",789266,37,661634,73,",onShow:function(){var a=this;try{cordova.AppVersion.getAppVersion(function(c){a.getVersion().setHtml(\"Version: \"+c)})}catch(b){this.getVersion().setHtml(\"unknown version\")}this.getApiVersion().setHtml(\"Api Version: \"+",585558,33,"iVersion\")||\"unknown\")",656191,32,661738,3478,",b=this.getBusinessOrIndividual();b.setReadOnly",665259,36,"b.addCls(\"rm-flatfield-disabled\")}",665276,48,"c={};a.setValues(c",665342,10223,"RM.ViewMgr.hideKeyPad(",675594,601,"afterLogin(",676216,257,675915,41,676483,78,"afterLogin:function(a){",644111,78,"this.goCb.call(this.goCbs,a)},this,function(b,c",681695,32,644939,33,"RM.AppMgr.showErrorMsgBox(c)}",681685,56,"oCb.call(this.goCbs,a)}",658624,104,676663,8254,"delete this.searchFilter",775264,52,684968,70,685547,34,768880,40,"Conta",770327,187,685329,6512,"onItemUpdate",691856,102,"if(this.needsRefresh){this.refreshDashboard()}else{this.showDashboardData()}},onItemUpdated:function(){this.needsRefresh=true",691982,88,"needsRefresh=false;",692065,11447,";",706176,35,"rm-activeviewchanged\",\"onActiveViewChang",703503,265,"&&this.dataLoaded){RM.Log.debug(\"invoices list reload scheduled\");this.reloadOnNextActivation=true}},onActiveViewChanged:function(a){if(!this.reloadOnNextActivation){return}if(a.xtype===this.getInvoices().xtype){this.reloadOnNextActivation=false;this.activeList.reload();RM.Log.debug(\"invoices list reloaded\"",701228,37,703830,1810,"onS",705641,742,"(!",706385,43,"||",706431,512,",SaveSupport:true",706943,1331,"onSave:function(a){this.save()",708272,726,747817,46,709248,34,709197,51,709334,744,"lineItemsDirty=false",710072,379,";this.detailsData.InvCode=a[0].InvCode",710451,2543,"if(b.Previous",712858,82,713027,32,713058,1783,778781,37,"OkCancelMsgBox(\"You must save your changes to continue, save now?\",function(a){if(a==\"ok\"){this.save(this.onInvoiceActions)}},this)}else{this.onInvoiceActions()}",714864,108,"this.getLineItems().validateForm();",787408,37,"}return b},save:function(b",712383,42,"d",715077,60,"c=Ext.applyIf(d,this.detailsData);delete c.DiscountPerc;delete c.DiscountAmount;if(c.Discount.indexOf(\"%\")>-1){c.DiscountPerc=c",715264,34,"c.Discount.indexOf(\"$\")>-1){c.DiscountAmount=c",715344,34,"c.Discount;c.Notes=this.noteText;c",715412,32,"c.Date);c.DueDate=c",715463,35,"c",715499,36,"c)){if(d.LineItems.length>0){var a=1;d.LineItems.forEach(function(e){e.lineNo=a;if(e.IsNew){delete e",715635,69,"c)",728605,33,"s\",this.isCreate,c,function(e){",715820,32,";if(b){",760207,34,".InvoiceId=e[0].InvoiceId}this.dataLoaded=false;this.isCreate=false;b.apply(this)}else{this.goBack()}},this,function(e,f){RM.AppMgr.showOkMsgBox(f)}",680030,33,715932,59336,775346,95,"f){this.messagetemplateRec=f;RM.ViewMgr.showPanel(b)}",753561,32,"this.messagetemplateRec;",775308,35,775444,108,775559,2153,772767,36,777712,71,599360,68,",maxRows:10",773669,167,777796,22331,"}});if(Ext.os.version.gtEq(\"7\")){if(Ext.os.deviceType===\"Tablet\"||!Ext.browser.is.Safari||window.navigator.standalone){Ext.define(\"Ext.iOS7Fix1.Viewport\",{override:\"Ext.viewport.Ios\",constructor:function(){var d={},b={},a=this.determineOrientation(),f=window.screen.height,c=window.screen.width,e=a===this.PORTRAIT?f-window.innerHeight:c-window.innerHeight;d[this.PORTRAIT]=f-e;d[this.LANDSCAPE]=c-e;b[this.PORTRAIT]=c;b[this.LANDSCAPE]=f;this.stretchHeights=d;this.stretchWidths=b;this.callOverridden(arguments);this.on(\"ready\",this.setViewportSizeToAbsolute,this);this.on(\"orientationchange\",this.setViewportSizeToAbsolute,this)",547848,36,"this.stretchHeights[this.orientation]",547796,35,"this.stretchWidths[this.orientation]},setViewportSizeToAbsolute:function(){this.setWidth(this.getWindowWidth());",550460,39,"})}if(Ext.os.deviceType===\"Tablet\"){Ext.define(\"Ext.iOS7Fix2.Viewport\",{override:\"Ext.viewport.Ios\"",553183,33,"Overridden(arguments);window.addEventListener(\"scroll\",function(){if(window.scrollX!==0){window.scrollTo(0,window.scrollY)}},false)},setViewportSizeToAbsolute",554439,32,";",108359,34,"}",800221,706]