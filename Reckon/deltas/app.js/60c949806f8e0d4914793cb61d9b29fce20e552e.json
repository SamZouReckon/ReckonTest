["/*f846f2aff4e28985389d71d697c1e3d6ee8cdc56",42,526041,"sv",526085,29811,"20",555898,602,"mponent.RMAmountField2",612860,34,"amountfield2\",config:{clearIcon:false,",493985,37,",listeners:{focus:\"onFieldFocus\",blur:\"onFieldBlur\"},cls:\"rm-flatfield\",prefix:\"\",decimalPlaces:2,trailingZerosUpTo:2",601343,56,"editing=false;this.oldValue=null;var b=this.getPrefix();var a=b?(this.getLabel()+\"&nbsp;(\"+b+\")\"):this.getLabel();if(this.config.rmmandatory){a=a",591856,38,"}this.setLabel(a",604304,83,",setValue:function(b){var b=parseFloat(b).toFixed(this.getDecimalPlaces());b=this.handleTrailingZeros(b);var a=this.callParent([b]);if(this.editing&&this.oldValue!=b",486401,32,",this.oldValue)",619484,32,"this.oldValue)}this.oldValue=this.getValue();return a},onFieldFocus:function(){this.editing=true},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}else{this.setValue(a)}this.editing=false},onChange:function(b,c,a){return",592463,76,"handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d}",616751,51,"Ext.field.Number,xtype:\"rmamountfield\",config:{clearIcon:false,listeners:{blur:\"onInputBlur\"},cls:\"rm-flatfield\",currencyMode:true,decimalPlaces:2,trailingZerosUpTo:2,placeHolder:\"\"",601343,51,611434,97,"this.inputEl=this.element.down(\"input\");this.inputEl.on(\"focus\",this.showInputFld,this);this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\" style=\"position:absolute; top:0; background:white;\"></div>',true);this.displayEl.on(\"tap\",this.focus,this);this.initComplete=true;this.showDisplayValue(",604304,83,",s",609659,52,"if(this.initComplete){this.showDisplayValue(",618439,32,550119,32,"return RM.util.MathHelpers.roundToEven(a,this.getDecimalPlaces())},onInputBlur:function(){var a=this.getValue();if(!Ext.isNumeric(a)){a=null}if(a){this.getComponent().setValue(RM.util.MathHelpers.roundToEven(a,this.getDecimalPlaces()))}else{this.getComponent().setValue(a)}console.log(this.getValue());this.showDisplayValue()},showDisplayValue:function(){var b=this.getValue();if(Ext.isNumeric(b)){var a;if(this.getCurrencyMode()){a=RM.AppMgr.formatCurrency(b,this.getDecimalPlaces())}else{a=RM.AppMgr.numberWithCommas(b,this.getDecimalPlaces())}a=this.handleTrailingZeros(a);this.displayEl.setHtml(a);this.displayEl.show()}else{this.displayEl.hide();this.displayEl.setHtml(b)}},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue()}},onChange:function(b,c,a){if(c!=this.editVal){b.fireEvent(\"change\",this,c,this.editVal);b.fireEvent(\"valueChange\",c,this.editVal)}",592463,76,"handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d",601117,41,"2",612860,34,"phonefield2\",config:{clearIcon:false,",493985,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",601343,51,611434,99,592539,80,",s",609659,52,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,709136,73,601118,40,"3",612860,34,"phonefield3\",config:{clearIcon:false,listeners:{blur:\"onBlur\"},",493985,37,620832,33,"\"",601343,51,611434,97,"this.inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\"></div>',true);this.displayEl.on(\"tap\",this.showInputFld,this);this.showDisplayValue(",604304,49,"var a=this.callParent();return a},s",609659,52,"this.showDisplayValue();return a},showDisplayValue:function(){this.inputEl.hide();var a=this.getValue();this.displayEl.setHtml(a);this.displayEl.show()},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue();this.focus()}},isValidPhoneNr:function(b){var a=parseFloat(b,10);return(isNaN(a))?false:true},onBlur:function(){var a=this.getValue();if(this.isValidPhoneNr(a)){this.showDisplayValue(",675023,33,"\"Invalid phone number\",function(){this.setValue(\"\");this.showDisplayValue()},this)}",592463,75,"});Ext.define(\"RM.view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",588464,86,"cls:\"rm-topbartitle\",html:\"Test Screen",622944,42,620364,57,"formpanel\",itemId:\"testScreenForm\",defaults:{",593327,36,"items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\"},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"",634052,32,"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,decimalPlaces:4,currencyMode:false,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}",634052,32,"Item Price\",clearIcon:true,name:\"ItemPrice\",labelWidth:120",762512,37,",readOnly:false,decimalPlaces:8,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield2\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",762512,37,",readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",556480,474,"if(a==\"Items\"){return false}",556954,1607,558660,250,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",558985,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559173,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",559361,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",560653,343,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",560653,55,561100,6401,"sv",567503,47," width: 7px; height: 6",567547,605,"sv",567503,47," width: 7px; height: 6",568198,545,"Cls:\"rm-sortsearch",620528,37,"search.sv",568780,395,"sv",569177,60,"sv",569239,124,"sv",569365,9038,"Mobil",578405,3693,"sv",672726,61,582161,404,"sv",582567,6906,"svg\",iconCls:\"rm-backbtniconcls",722287,56,589532,610,"svg\",iconCls:\"rm-backbtniconcls",722287,56,590201,485,"svg\",iconCls:\"rm-backbtniconcls",722287,56,590745,2102,"svg\",iconCls:\"rm-backbtniconcls",790133,32," details",620301,63,722400,55,593008,8551,"fieldMaskEl){this.clearCursorBlinkTimer()}",601551,3106,"svg\",iconCls:\"rm-backbtniconcls",740171,36,620303,55,604751,1593,"2\",cls:\"rm-flatfield",606381,163,"2\"",620832,33,606596,285,"2\",cls:\"rm-flatfield",606918,161,"2\"",620832,33,607131,6858,"svg\",iconCls:\"rm-backbtniconcls",740171,42,614034,2735,620024,217,"svg\",iconCls:\"rm-backbtniconcls",740171,42,620287,284,"svg\",iconCls:\"rm-btniconsize",620574,3661,"svg\",height:30,padding:0,iconCls:\"rm-lineitemcrossbg\",margin:\"-7",624270,1412,"svg\",iconCls:\"rm-backbtniconcls",590159,42,625727,129,"sv",625858,3657,"svg\",iconCls:\"rm-backbtniconcls",722287,50,629568,177,"svg\",iconCls:\"rm-btniconsize",629748,3487,"svg\",iconCls:\"rm-backbtniconcls",675480,37,633275,3145,"sv",636422,3377,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",639780,5418,"s",645198,78,"s",645276,2239,"sv",647517,92,"5",647610,391,"sv",648003,52,"sv",647517,72,"e,height:55,width:65",648149,1458,"b,a){if(Ext.isNumber(b)){b=b.toFixed(a||2)}return b?b",649760,34,"\\.",649695,99,"\\.)/g,\",\")},formatCurrency:function(c,b,e){if(isNaN(c)){c=0}var a=(c<0);var d=Math.abs(RM.util.MathHelpers.roundToEven(c,b));c=\"$\"+d.toFixed(b).replace(/\\B(?=(\\d{3})+\\.)/g,\",\");if(a&&e){return\"(\"+c+\")\"}return(((a)?\"-\":\"\")+c)},unformatCurrency",630370,33,"()?(-)?(\\$)?(,)?(\\))?/g,\"",649806,893,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true",724701,32,650729,131,"controller.TestScreen",757760,44,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",772318,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25.12345,ItemPrice:52625.123456789,BusPhone:\"072367672\"};this.getTestScreenForm().setValues",665532,36,650874,233,"svg\",iconCls:\"rm-backbtniconcls",590703,43,"ore setting",572958,49,651213,1844,"sv",653059,3620,"svg\",iconCls:\"rm-backbtniconcls",722287,56,656738,7579,663931,54,664373,1368,"btniconcls",636367,53,"svg",590159,42,665839,2861,"sv",668702,495,"sv",669199,627,"sv",672726,61,687769,35,669924,2800,"sv",672726,143,"M",672870,2607,"svg\",iconCls:\"rm-backbtniconcls",675480,3051,"svg\",iconCls:\"rm-backbtniconcls",722287,56,678590,2199,"svg\",iconCls:\"rm-backbtniconcls",590159,42,"Budget",625741,37,680877,6781,"svg\",iconCls:\"rm-backbtniconcls",722287,56,687717,3229,"svg\",iconCls:\"rm-backbtniconcls",690949,9558,"f,a,e",700512,61,"f?f",700576,37,"e",700614,46,"var d=new Date();d.setHours(0,0,0,0);",700660,164,"d",700834,2396,"RM.AppMgr.formatCurrency",703252,2763,"if(b",735194,48,"){c=c.map(function(e){e.TaxGroupId=null;e.Tax=null;return e})",706014,268,"AmountTax:e.DiscountAmount",706270,278,706551,3673,"svg\",iconCls:\"rm-backbtniconcls",790133,32," details",620301,63,722400,56,625967,50,710436,862,"8,prefix:\"$",711920,32,711341,108,"currencyMode:false",711448,3218,"UnitPriceAccuracy:2",714665,178,"b",714844,247,"b.reset();b",715102,45,"Display",715147,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",720249,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);",715311,236,"b",715548,340,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",716283,33,"c",716341,982,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",717322,75,717503,614,"var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2}",715222,32,718149,169,"Amount=null",720380,38,"null;",715153,35,"=null;if(b.indexOf(\"%\")>-1){",715153,35,716003,58,"if(",718121,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",716251,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",718621,33,718353,598,"f",718952,420,"if",715152,36,"){e.DiscountPercentage=",715153,35,719468,64,";e.DiscountAmount",719492,35,"Tax}switch(f",719541,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",720381,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",719756,116,"g",719873,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g.AmountExTax;this.detailsData.AmountTax=g.AmountTax;this.detailsData.Tax=g.",719950,41,"g",719992,62,"g.DiscountedTaxExcl",720006,32,"Amount=g.DiscountAmount",720380,38,"g.Discount",719942,37,"AmountTax=g.DiscountAmountTax;this.setDiscountDisplay",715147,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",720249,43,"this.detailsData.UnitPriceAccuracy",720184,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",720439,51,"g){alert(g",720500,1784,"svg\",iconCls:\"rm-backbtniconcls",722287,5411,"svg\",iconCls:\"rm-backbtniconcls",722287,60,"e",575584,138,727900,6299,"svg\",iconCls:\"rm-backbtniconcls",722287,56,734258,783,"{0",735368,67,"Discount",734992,49,735169,196,735366,121,735488,127,735616,130,"{5",735368,56,735805,71,735877,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",760494,55,736257,229,"svg\",iconCls:\"rm-backbtniconcls",722287,56,736545,224,"svg\",iconCls:\"rm-btniconsize",736772,274,"svg\",iconCls:\"rm-btniconsize",737049,147,"svg\",iconCls:\"rm-btniconsize",737199,2955,"svg\",iconCls:\"rm-backbtniconcls",740157,279,"2",740436,105,740559,44,"2",740603,112,740733,373,"rmamountfield2\":{focus:\"onFieldFocus",741136,527,"RM.AppMgr.unformatCurrency(b",741702,33,"Focus:function(a){console.log(\"focus\"",741478,40,741789,478,"RM.AppMgr.formatCurrency",742300,38,",2)}",655466,34,742377,8685,"sv",751064,59,"sv",751125,10948,"svg\",iconCls:\"rm-backbtniconcls",722287,56,762132,490,"svg\" style=\"margin-right: 10px; width: 18px; height: 18px;",762652,4314,"svg\",iconCls:\"rm-backbtniconcls",722287,50,625743,55,577675,61,767135,6312,"svg\",iconCls:\"rm-backbtniconcls",773450,874,"svg\",iconCls:\"rm-backbtniconcls",773450,67,774394,156,"sv",774736,62,774614,120,"sv",774736,179,"sv",774736,62,"HEQUE}]}",773199,36,775023,13418,"TestScree",788436,1666,"svg\",iconCls:\"rm-backbtniconcls",722287,56,"Item",736559,35,691087,47,790247,346]