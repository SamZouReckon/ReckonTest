["/*bff7b2b8c10c553997b814905a679b320a376aa3",42,526041,"svg",633104,41,526127,29769,"20",555898,602,"mponent.RMAmountField2",591704,32,"rmamountfield2\",config:{clearIcon:false,",493985,37,",listeners:{focus:\"onFieldFocus\",blur:\"onFieldBlur\"},cls:\"rm-flatfield\",prefix:\"\",decimalPlaces:2,trailingZerosUpTo:2",627520,56,"editing=false;this.oldValue=null;var b=this.getPrefix();var a=b?(this.getLabel()+\"&nbsp;(\"+b+\")\"):this.getLabel();if(this.config.rmmandatory){a=a",591856,38,"}this.setLabel(a)",709660,82,",setValue:function(b){var b=parseFloat(b).toFixed(this.getDecimalPlaces());b=this.handleTrailingZeros(b);var a=this.callParent([b]);if(this.editing&&this.oldValue!=b",486401,32,",this.oldValue)",619431,32,"this.oldValue)}this.oldValue=this.getValue();return a},onFieldFocus:function(){this.editing=true},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}else{this.setValue(a)}this.editing=false},onChange:function(b,c,a){retur",611167,76,",handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d}",616713,41,"3",708626,34,"rmamountfield3\",config:{clearIcon:false,listeners:{blur:\"onBlur\"},cls:\"rm-flatfield\",prefix:\"\",trailingZerosUpTo:2,placeHolder:\"\"",627520,51,604030,97,"this.inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\"></div>',true);this.displayEl.on(\"tap\",this.showInputFld,this);this.showDisplayValue()",709660,82,",setValue",239406,45,"this.showDisplayValue();return a},onBlur:function(){var a=this.getValue();if(Ext.isEmpty(a,true)){RM.AppMgr.showErrorMsgBox(\"Invalid number\",function(){this.setValue(this.editVal);this.showDisplayValue()},this)}else{this.showDisplayValue()}},showDisplayValue:function(){this.inputEl.hide();var b=this.getValue();if(b){var a=this.getPrefix()+RM.AppMgr.numberWithCommas(b.toFixed(2));this.displayEl.setHtml(a)}this.displayEl.show()},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue();this.focus()}},onChange:function(b,c,a){if(c!=this.editVal",294463,33,611168,103,"RMPhoneField2",591704,32,"rmphonefield2\",config:{clearIcon:false,",493985,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",627520,51,604030,99,709662,80,",setValue",239406,45,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,592463,73,601094,40,"3",591704,32,"rmphonefield3\",config:{clearIcon:false,listeners:{blur:\"onBlur\"},",493985,37,620941,33,"\"",627520,51,604030,97,"this.inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\"></div>',true);this.displayEl.on(\"tap\",this.showInputFld,this);this.showDisplayValue()",709660,48,"var a=this.callParent();return a},setValue",239406,45,"this.showDisplayValue();return a},showDisplayValue:function(){this.inputEl.hide();var a=this.getValue();this.displayEl.setHtml(a);this.displayEl.show()},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue();this.focus()}},isValidPhoneNr:function(b){var a=parseFloat(b,10);return(isNaN(a))?false:true},onBlur:function(){var a=this.getValue();if(this.isValidPhoneNr(a)){this.showDisplayValue(",708504,34,"Invalid phone number\",function(){this.setValue(\"\");this.showDisplayValue()},this)}",611168,93,"view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",588464,86,"cls:\"rm-topbartitle\",html:\"Test Screen",622891,42,625856,57,"formpanel\",itemId:\"testScreenForm\",defaults:{",615279,34,"},items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\"},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"},{xtype:\"rmamountfield2\",label:\"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,prefix:\"\",listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield2\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",761780,38,"readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",556480,474,"if(a==\"Items\"){return false}",556954,1607,558660,250,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",558985,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559173,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",559361,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",560653,343,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",560653,55,561100,17303,"Mobil",578405,13596,",a",592001,5990,598998,34,598022,56,"FldEleId=b;",598070,3207,612911,42,627520,56,"on(\"tap",617097,103,601471,50,"fieldMaskEl){this.clearCursorBlinkTimer()}",601513,4793,"2\",cls:\"rm-flatfield",606343,163,"2",620940,34,606558,285,"2\",cls:\"rm-flatfield",606880,161,"2",620940,34,607093,9913,612911,42,627520,56,"on(\"tap",617097,111,"fieldMaskEl){this.clearCursorBlinkTimer()}",601513,98,"inEditMode=true",617334,158,"this.inEditMode=false",617537,71,"if(this.config.decimalPlaces&&a!=\"\"){this.setValue(",618592,34,"a))",617607,1022,"if(!this.inEditMode){this.fireValueChangeEvent(b",618627,782,"if(this.valBeforeChange!==undefined",602960,36,"this.valBeforeChange=b",619465,13885,"secure",633350,6390,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",639721,3169,642926,614,"&&j.status!=401",643540,535,644097,936,"production",645040,139,"s",645179,41,"pre",645145,34,"s://preprod",645182,308,645489,4216,"formatCurrency:function(c,b,e){if(isNaN(c)){c=0}var a=(c<0);var d=Math.abs(RM.util.MathHelpers.roundToEven(c,b));c=\"$\"+d.toFixed(b)",619823,38,"if(a&&e){return\"(\"+c+\")\"}return(((a)?\"-\":\"\")+c)},unformatCurrency",630317,33,"()?(-)?(\\$)?(,)?(\\))?/g,\"",649701,893,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true",724399,32,650624,131,"controller.TestScree",670496,45,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",662429,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25,ItemPrice:52625.45,BusPhone:\"072367672\"};this.getTestScreenForm().setValues",665408,36,650769,580,651382,39,"Pre Production\",value:\"preproduction\"},",651342,40,651459,40,651425,34,651495,35,651557,12636,663807,54,664249,8496,"M",672746,5311,"gin()",721582,130,678191,13193,696736,36,"Invoices\"",691706,41,"else{a.setGroupField(null)}this.loadList(",696328,32,691414,193,691769,432,682832,39,"Invoices\")",759528,36,692233,3573,",customerId:this.customerId",695806,2343,"else{this.activeList.reload()}",695566,43,698192,2113,"f,a,e",700310,61,"f?f:{}",714206,34,"e",700412,46,"var d=new Date();d.setHours(0,0,0,0);",700458,164,"d",700632,2396,"RM.AppMgr.formatCurrency",703050,2763,"if(b",734892,48,"){c=c.map(function(e){e.TaxGroupId=null;e.Tax=null;return e})",705812,226,"AmountExTax:e.DiscountAmountExTax,DiscountAmountTax:e.DiscountAmountTax",706029,275,706307,4747,"8",711055,2761,",clearicontap:function(){this.taxAmountChanged(null,null)}",713816,548,"UnitPriceAccuracy:2",714363,178,"b",714542,247,"b.reset();b",714800,45,"Display",714845,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",719947,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);",715009,236,"b",715246,340,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",715981,33,"c",716039,982,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",717020,75,717201,614,"var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2}",714920,32,717847,169,"Amount=null",720078,38,"null;",714851,35,"=null;if(b.indexOf(\"%\")>-1){",714851,35,715701,58,"if(",717819,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",715949,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",718319,33,718051,598,"f",718650,420,"if",714850,36,"){e.DiscountPercentage=",714851,35,719166,64,";e.DiscountAmount",719190,35,"Tax}switch(f",719239,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",720079,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",719454,116,"g",719571,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g.AmountExTax;this.detailsData.AmountTax=g.AmountTax;this.detailsData.Tax=g.",719648,41,"g",719690,62,"g.DiscountedTaxExcl",719704,32,"Amount=g.DiscountAmount",720078,38,"g.Discount",719640,37,"AmountTax=g.DiscountAmountTax;this.setDiscountDisplay",714845,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",719947,43,"this.detailsData.UnitPriceAccuracy",719882,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",720137,51,"g){alert(g",720198,14541,"{0",735066,67,734809,57,734867,196,735064,121,735186,127,"{4",735066,67,735383,61,"{5",735066,56,735503,71,735575,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",683168,55,735955,4179,"2",740134,105,740257,44,"2",740301,112,740431,373,"rmamountfield2\":{focus:\"onFieldFocus",740834,527,"RM.AppMgr.unformatCurrency(b",741400,33,"Focus:function(a){console.log(\"focus\"",741176,40,741487,478,"RM.AppMgr.formatCurrency",741998,38,",2)}",655342,34,742075,5745,"RM.AppMgr.showSuccessMsgBox(\"Timesheet saved\"",738188,35,"timesheet\");this.goBack()},this",747832,6527,";RM.AppMgr.itemUpdated(\"expense\"",754358,1337,"var f=Ext.decode(e.responseText);if(f.success){",754294,55,"RM.AppMgr.itemUpdated(\"expense\");this.goBack()},this)}else{RM.AppMgr.showOkMsgBox(f.eventMsg)}},failure:function(e){",642854,34,"e",755793,15526,"createitem:{show:\"onShow\"},",771319,57,"save",654000,33,675885,40,771455,175,"how:function(){this.initialFormValues",771650,37,662429,33,771660,244,715280,65,"CreateItem",660576,44,771904,289,716544,141,747503,55,774015,36,772263,15206,"TestScree",787464,2157]