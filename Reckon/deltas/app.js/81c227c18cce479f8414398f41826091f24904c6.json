["/*123b190e770058e8d63dcc7c0909ecb551d5c7e5",42,526041,"svg",592767,41,526127,29769,"20",555898,602,"mponent.RMAmount",708726,39,"rmamountfield\",config:{clearIcon:false,listeners:{blur:\"showDisplayValue\",focus:\"showInputFld\"},cls:\"rm-flatfield\",currencyMode:true,decimalPlaces:2,trailingZerosUpTo:2,placeHolder:\"\"",630768,40,611407,108,"this.inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field rm-field-input-formatted\"></div>',true);this.displayEl.on(\"tap\",this.focus,this);this.initComplete=true;this.showDisplayValue(",604288,83,",s",609643,52,"if(this.initComplete){this.showDisplayValue(",618320,32,550119,32,"return RM.util.MathHelpers.roundToEven(a,this.getDecimalPlaces())},showDisplayValue:function(){if(this.displayVal){this.displayEl.show()}else{this.displayEl.hide()}},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide()}},onChange:function(b,c,a){if(!b.inChangeEvent){b.inChangeEvent=true;var d;if(!Ext.isNumeric(c)){d=null}else{d=this.applyValue(parseFloat(c))}this.updateValue(d);this.setDisplayValue(d);if(String(d)!=String(a)){this.fireEvent(\"change\",this,d,a);this.fireEvent(\"valueChange\",d,a)}b.inChangeEvent=false}},setDisplayValue:function(a){if(Ext.isNumeric(a)){if(this.getCurrencyMode()){this.displayVal=RM.AppMgr.formatCurrency(a,this.getDecimalPlaces())}else{this.displayVal=RM.AppMgr.numberWithCommas(a,this.getDecimalPlaces())}this.displayVal=this.handleTrailingZeros(this.displayVal);this.displayEl.setHtml(this.displayVal)}else{this.displayVal=null;this.displayEl.setHtml(\"\")}this.showDisplayValue(",568894,34,"callParent(arguments);this.showDisplayValue(",592460,77,"handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d",601115,51,"Ext.field.Text,xtype:\"rmphonefield\",config:{clearIcon:false,",493985,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",630768,40,611407,110,603834,80,",s",609643,52,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,592463,73,"});Ext.define(\"RM.view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",588464,86,"cls:\"rm-topbartitle\",html:\"Test Screen\"",568684,35,620239,63,"formpanel\",itemId:\"testScreenForm\",defaults:{",626784,34,"},items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\",clearIcon:true},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"",633933,32,"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,decimalPlaces:4,maxValue:100,currencyMode:false,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}",633933,32,"Item Price\",clearIcon:true,name:\"ItemPrice\",labelWidth:120",761885,38,"readOnly:false,decimalPlaces:8,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",761885,38,"readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",556480,474,"if(a==\"Items\"){return false}",556954,1607,558660,250,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",558985,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559173,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",559361,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",560653,343,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",560653,55,561100,4420,"svg\",width:68,height:62,margin:\"28",653015,35,565589,96,"8",565686,1815,"sv",567503,47," width: 7px; height: 6",567547,605,"sv",567503,47," width: 7px; height: 6",568198,545,"Cls:\"rm-sortsearchbt",568736,42,"sv",568780,395,"sv",569177,60,"sv",569239,124,"sv",569365,1389,",fetchLatest:function(){this.getList().getStore().loadPage(1,{callback:function(b,a,c){if(c){",522513,59,"}},scope:this})",570753,677,"{[RM.AppMgr.formatCurrency",571459,4814,"{[RM.AppMgr.formatCurrency",576302,2101,"Mobil",578405,3693,"sv",672650,61,582161,260,582454,111,"svg\" style= \"width: 90px; height: 90px;",582568,6905,"svg\",iconCls:\"rm-backbtniconcls",687584,56,589532,610,"svg\",iconCls:\"rm-backbtniconcls",687584,56,590201,485,"svg\",iconCls:\"rm-backbtniconcls",687584,56,590745,539,"{[RM.AppMgr.formatCurrency",591313,688,",a",592001,844,"svg\",iconCls:\"rm-backbtniconcls",592848,6774,603047,1594,"svg\",iconCls:\"rm-backbtniconcls",613976,36,592890,55,604735,1247,"\",label:\"First name\",rmmandatory:true",606012,45,606069,34,",hidden:true},{name:\"BusinessName\",label:\"Business name\",border:\"0 0 1 0\",rmmandatory:true,hidden:true},{name:\"BranchName\",label:\"Branch name\",hidden:true,border:\"1 0 1 0\"",606103,244,606365,182,606565,319,606902,180,607100,6873,"svg\",iconCls:\"rm-backbtniconcls",613976,2787,599622,1512,619905,217,"svg\",iconCls:\"rm-backbtniconcls",613976,42,620168,221,"rrowimgbtn rm-photobtnfon",680672,35,"photo.svg\",iconCls:\"rm-photobtniconsize",620455,725,621198,2918,"svg\",height:30,padding:0,iconCls:\"rm-lineitemcrossbg\",margin:\"-6",624151,75,"RM.AppMgr.formatCurrency",624256,1307,"svg\",iconCls:\"rm-backbtniconcls",590159,42,625608,129,"sv",625739,3657,"svg\",iconCls:\"rm-backbtniconcls",687584,50,629449,112,"rrowimgbt",568736,35,"addnote.svg\",iconCls:\"rm-btniconsize",629629,3487,"svg\",iconCls:\"rm-backbtniconcls",633119,3182,"sv",636303,3377,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",639661,2626,"this.getServerRec(c+\"/\"+e",642342,488,642866,614,"&&j.status!=401",643480,535,644037,1085,"s://",645210,38,"pre",645088,34,"s",645200,2239,"sv",647981,72,"f,height:50,width:255",647534,391,"sv",647927,52,"sv",647981,91,"5",648073,1458,"c,b){if(Ext.isNumber(c)){c=RM.util.MathHelpers.roundToEven(c,b)}else{c=0}var a=c.toFixed(b||1).replace(/\\B(?=(\\d{3})+\\.)/g,\",\");if(!b){a=a.replace(\".0\",\"\")}return a",649630,88,"\\.)/g,\",\")},formatCurrency:function(d,c,e){if(isNaN(d)){d=0}if(!c&&c!==0){c=2}var a=(d<0);var b=this.numberWithCommas(Math.abs(d),c);d=\"$\"+b;if(a&&e){return\"(\"+d+\")\"}return(((a)?\"-\":\"\")+d)},unformatCurrency:function(a){return parseFloat(a.replace(/(\\()?(-)?(\\$)?(,)?(\\))?/g,\"\")",649731,892,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true}",650622,162,"controller.TestScree",670544,45,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",662477,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25.12345,ItemPrice:52625.123456789,BusPhone:\"072367672\"};this.getTestScreenForm().setValues",665456,36,650798,233,"svg\",iconCls:\"rm-backbtniconcls",590703,43,651077,1904,"sv",652983,131,"8",653116,1587,"menu",654703,1120,",zIndex:1000",655823,780,"svg\",iconCls:\"rm-backbtniconcls",687584,56,656662,2588,659310,203,659576,42,"BusinessName]\",branch",659583,35,"BranchName]\",first",659583,35,"FirstName]\",surn",659584,41,659637,1273,661022,34,"ReadOnly(!this.isCreate",660908,1154,"!a.FirstNameBranchName){this.getFirst",748091,42,"IsPerson==true&&!a.SurnameBusinessName){this.getSurn",748092,41,"IsPerson==false&&!a.SurnameBusinessName){this.getBusiness",748091,40,662143,76,662297,275,"if(a.IsPerson===true){a.FirstNameBranchName=a.FirstName;a.SurnameBusinessName=a.Surname}else{a.FirstNameBranchName=a.BranchName;a.SurnameBusinessName=a.BusinessName}delete a.FirstName;delete a.Surname;delete a.BranchName;delete a.BusinessName",662571,1317,"usinessName().setHidden(false",665099,33,"false);this.getFirstName().setHidden(true);this.getSurname().setHidden(true",664048,193,663855,33,"usinessName().setHidden(true",665099,33,"true);this.getFirstName().setHidden(false);this.getSurname().setHidden(false",664536,409,";this.getFirstName().setValue(a.FirstNameBranchName);this.getSurname().setValue(a.SurnameBusinessName",664944,58,";this.getBusinessName().setValue(a.SurnameBusinessName);this.getBranchName().setValue(a.FirstNameBranchName",665001,108,665179,486,"btniconcls",690816,53,"svg",590159,42,665763,2861,"sv",668626,495,"sv",669123,627,"sv",672650,61,687692,35,669848,2267,"menu",654703,133,672248,400,"sv",672650,143,"M",672794,1365,"menu",674159,1242,"svg\",iconCls:\"rm-backbtniconcls",633119,37,578304,34,675475,1040,662871,41,",\"Setting p",671764,51,671663,35,676552,1553,"gin()}",727136,168,678278,176,"svg\",iconCls:\"rm-backbtniconcls",687584,56,"Custom",590207,64,"},",590924,32,678617,2095,"svg\",iconCls:\"rm-backbtniconcls",590159,42,"Budge",675423,38,680800,832,"{[RM.AppMgr.formatCurrency",681661,136,"{[RM.AppMgr.formatCurrency",681826,72,"return RM.AppMgr.formatCurrency(b,2,true)",571888,86,666095,34,682138,5443,"svg\",iconCls:\"rm-backbtniconcls",687584,3285,"svg\",iconCls:\"rm-backbtniconcls",690872,607,691532,66,"this.loadList(",691619,657,682880,39,"Invoices\")",692272,822,"{[RM.AppMgr.formatCurrency",693123,465,"{[RM.AppMgr.formatCurrency",693123,36,693653,2228,",customerId:this.customerId",695881,1448,"Customer",692263,35,692357,205,737023,36,678911,45,697705,2705,"f,a,e",700415,61,"f?f",700479,37,"e",745198,43,"c){var d=new Date();d.setHours(0,0,0,0);",700563,164,"d",700737,568,"if(!this.dataLoaded){",701305,76,701402,1731,"RM.AppMgr.formatCurrency",703155,1609,"e,d",704767,65,"d",704833,32,"var b=this;function c(){b.calculateBreakdown();b.getLineItems().setTaxStatus(d);b.previousAmountTaxStatus=d}if(d",715135,32,"&&this.taxModificationsExist()){RM.AppMgr.showYesNoMsgBox(\"This change will remove the modified tax information on all your line items, are you sure you want to do this?\",function(f){if(f===\"yes\"){c()}else{e.suspendEvents();e.setValue(a);",704799,33,"a;e.resumeEvents(true)}},this)}else{c()}",704926,992,"if(b.PreviousAmountTaxStatus!==b.AmountTaxStatus){if(b",734997,48,"){c=c.map(function(e){e.TaxGroupId=null;e.Tax=null;e.TaxIsModified=false;return e})}else{c=c.map(function(e){e.TaxGroupId=e.DefaultTaxGroupId;return e}",705915,228,"AmountExTax:e.DiscountAmountExTax,DiscountAmountTax:e.DiscountAmountTax",706134,275,706412,562,"RM.AppMgr.formatCurrency",707023,32,707056,894,708047,324,707946,97,771022,43,"b",706240,34,708449,240,",taxModificationsExist:function(){var b",707911,41,"false;Ext.Array.some(b,function(c){if(c.TaxIsModified||c.TaxGroupId!==c.DefaultTaxGroupId){a=true;return true}});return a",708688,1397,"svg\",iconCls:\"rm-backbtniconcls",592848,158,625847,51,710297,223,711501,33,710539,135,"readOnly:true",621337,70,710743,362,711123,36,"8",711160,94,711272,38,"currencyMode:false",711309,67,"readOnly:true",711375,509,711904,2017,",clearicontap:function(){this.taxAmountChanged(null,null)}",713921,437,"isCreate=false;",714353,116,"UnitPriceAccuracy:2",714468,178,"b",714647,247,"b.reset();b",714905,45,"Display",714950,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",720052,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);",715114,236,"b",715351,340,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",716086,33,"c",716144,982,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",717125,75,717306,160,"DefaultTaxGroupId=a.SaleTaxCodeID;",719903,32,717481,439,"var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2",717919,202,"Amount=null",720183,38,"null;",714956,35,"=null;if(b.indexOf(\"%\")>-1){",714956,35,715806,58,"if(",717924,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",716054,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",717980,33,718156,598,"f",718755,420,"if",714955,36,"){e.DiscountPercentage=",714956,35,719271,64,";e.DiscountAmount",719295,35,"Tax}switch(f",719344,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",720184,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",719559,116,"g",719676,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g.AmountExTax;this.detailsData.AmountTax=g.AmountTax;this.detailsData.Tax=g.",719753,41,"g",719795,62,"g.DiscountedTaxExcl",719809,32,"Amount=g.DiscountAmount",720183,38,"g.Discount",719745,37,"AmountTax=g.DiscountAmountTax;this.setDiscountDisplay",714950,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",720052,43,"this.detailsData.UnitPriceAccuracy",719987,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",720242,51,"g){alert(g",720303,1784,"svg\",iconCls:\"rm-backbtniconcls",727504,60,722150,5351,"svg\",iconCls:\"rm-backbtniconcls",727504,961,"{[RM.AppMgr.formatCurrency",728494,5508,"svg\",iconCls:\"rm-backbtniconcls",687584,56,734061,783,"{0",735552,56,734903,68,734972,196,"{2",735552,56,735227,63,735291,127,"{4",735552,56,735477,72,735550,129,735680,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",739712,60,"InvoiceActions",636064,34,"actions",613804,33,736153,136,"svg\",iconCls:\"rm-backbtniconcls",687584,56,736348,183," rm-invoiceactionbtnlabel",629584,35,"ccept.svg\",iconCls:\"rm-invoiceactioniconcls",736575,92," rm-invoiceactionbtnlabel",629584,34,736701,108," rm-invoiceactionbtnlabel",629584,34,"email.svg\",iconCls:\"rm-invoiceactioniconcls",736852,105," rm-invoiceactionbtnlabel",629584,34,"history.svg\",iconCls:\"rm-invoiceactioniconcls",737002,2955,"svg\",iconCls:\"rm-backbtniconcls",739960,325,"currencyMode:false",740284,43,"maxValue:100",710703,33,740377,141,"\"",762558,89,666095,34,740660,249,"rmamountfield\":{focus:\"onFieldFocus",740939,458,"parseFloat(b.replace(\"%\",\"\")",741413,53,"RM.AppMgr.unformatCurrency(b",741505,33,"Focus:function(a){console.log(\"focus\"",741281,40,741592,478,"RM.AppMgr.formatCurrency",742103,38,742142,5783,"RM.AppMgr.showSuccessMsgBox(\"Timesheet saved\"",738293,35,"timesheet\");this.goBack()},this",747937,2829,"sv",750768,59,"sv",750829,3635,";RM.AppMgr.itemUpdated(\"expense\"",754463,1337,"var f=Ext.decode(e.responseText);if(f.success){",754399,55,"RM.AppMgr.itemUpdated(\"expense\");this.goBack()},this)}else{RM.AppMgr.showOkMsgBox(f.eventMsg)}},failure:function(e){",642794,34,"e",755898,5691,"svg\",iconCls:\"rm-backbtniconcls",687584,56,761648,490,"svg\" style=\"margin-right: 10px; width: 18px; height: 18px;",762168,4314,"svg\",iconCls:\"rm-backbtniconcls",687584,50,680765,35,636368,72,766642,79,",maxRows:10",651949,32,"AddNot",673184,45,766804,6159,"svg\",iconCls:\"rm-backbtniconcls",772966,655,"Msg",772751,40,774582,362,"acceptPaymentForm:\"acceptpayment formpanel\",amountPaid:\"acceptpayment textfield[name=AmountPaid]\",bankAccount:\"acceptpayment extselectfield[name=BankAccountID]\",paymentMethod:\"acceptpayment extselectfield[name=PaymentMethodID]",775088,112,775232,55,"pay\":{tap:\"onPay",775397,107,"b){this.invoiceId=b.InvoiceId;this.fullAmount=b.BalanceDue;this.accountsReceivableCategoryID=b.AccountsReceivableCategoryID;this.customerId=b.CustomerId",775560,64,"this.loadSelectFields();",734575,54,"getAcceptPaymentForm();a.setValues({AmountPaid:this.fullAmount})},loadSelectFields:function(){",739274,36,"BankAccounts\");b",682879,41,"ankAccount\"));RM.AppMgr.loadStore(b,function(){},this);",646287,36,"PaymentMethod",696862,45,"PaymentMethod\")",764748,35,"},this)",777087,163,"Payment Accepted\"",690444,40,"To(\"slidenavigationview\"",764848,39,"if(!a.AmountPaid){this.getAmountPai",716912,40,"BankAccountID){this.getBankAccount",748095,36,"!a.PaymentMethodID){this.getPaymentMetho",716912,38,717022,33,";return false}if(a.AmountPaid>this.fullAmount){this.getAmountPaid().showValidation(false);RM.AppMgr.showErrorMsgBox(\"Payment Amount cannot be more than the balance due amount of \"+RM.AppMgr.formatCurrency(this.fullAmount));b=false}return b},onPay",777096,39,"Form().getValues();a.InvoiceID=this.invoiceId;a.AccountsReceivableCategoryID=this.accountsReceivableCategoryID;a.CustomerSupplierID=this.customerId",747829,50,"\"AcceptPayment\",true,a",776971,75,772076,35,"onB",766147,74,"pay invoice",766234,77,777451,7357,"ageSize:8",784806,2445,"'+RM.AppMgr.formatCurrency(b.get(\"PeriodAmount\"",787323,634,"TestScree",787952,1666,"svg\",iconCls:\"rm-backbtniconcls",687584,56,789677,432]