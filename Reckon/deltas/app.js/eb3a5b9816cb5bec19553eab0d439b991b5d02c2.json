["/*fc98f9937eb904303be6400fc98b629cf2cfaf1",41,554984,555737,566,"ID:3",556324,171,555025,717,556500,2447,"tel\"}",558967,439,"else{this.setValue(a.replace(/\\D/g,\"\"))",559405,2765,"area",562170,185,"b,a){this.permissions=b.map(function(c){return c.toLowerCase?c.toLowerCase():c});this.forceReadOnly=false;if(a.toUpperCase()===\"R\"){this.forceReadOnly=true}",562434,173,"DoUnlessReadOnly:function(a,b){return !this.forceReadOnly&&this.canDo(a,",562600,44,"UnlessReadOnly",562644,83,"UnlessReadOnly",562727,103,"UnlessReadOnly",562830,6497,"'+RM.AppMgr.formatCurrency(b.Actual,0",569364,1448,",{xtype:\"spacer\"},{text:\"\",itemId:\"refresh\",ui:\"rm_topbarbuttonrigh",653984,35,"refresh.svg\",width:\"2.6em",570810,939,"Opaque",571749,2988,"a=this.getComponent(1);if(a.isHidden()){this.showSearch()}else{this.hideSearch()}},showSearch",574721,36,"1),b=this.getComponent(3),a=this.getComponent(0);c.setHidden(false);b",574890,48,"c.focus();a.setHidden(true)},hideSearch:function(d){var c=this.getComponent(1),b=this.getComponent(3),a=this.getComponent(0);c.setHidden(true);if(!d&&c",574957,47,"c.reset();b",574890,36,"search.svg\");a.setHidden(false",602300,36,575159,73,"hidden:true,listeners:{painted:\"checkPermissions\"",526192,41,"arguments",575327,86,";this.checkPermissions()",602474,63,575476,8021,"\"Contacts\",",597936,61,576815,47,583640,697,"itemId:\"version\",html:\"",584354,73,"itemId:\"apiVersion\",html:\"",584354,9722,"document.activeElement.blur()",594131,583,"{[this.getClass(values)]}\" style=\"background-color:{ColorCode}",594765,137,"div class=\"rm-accesstext rm-pt5\">{[this.accessLevel(values)]}</div></td></tr></table>',{getClass:function(a){if(a.Access.toUpperCase()==\"R\"){return\"rm-list-readonly-cashbook\"}else{return\"rm-list-cashbook\"}},accessLevel:function(a){if(a.Access.toUpperCase()==\"R\"){return\"READ ONLY\"+(a.StatusText?\" - \"+a.StatusText:\"\")}else{return a.StatusText}",595695,135,595135,2979,714991,50,621439,40,626800,35,598239,201,"d",634703,62,"d",598504,2394,"hasLockOffDate",600756,45,"LockoffDate!==null},getLockOffDate:function(){return new Date(this.getCurrentCashbook().LockoffDate)},loadLastCashbook:function(d,a,c,b",600925,64,",d,a,c,b)}},unloadCashbook:function(){this.setCashbookId(null);this.setCurrentCashbook(null)",601002,67,601102,120,601069,36,601225,224,",function(b,c){RM.AppMgr.showErrorMsgBox(c);RM.AppMgr.login()})},this)},setCashbook:function(e,f,a,d,b){var c=this;",601487,59,"e},function(g){c.setCashbookId(e);c.setCurrentCashbook(g[0",652859,33,"GSTCodes\").setData(g",601663,75,"g[0].AccountingCategories);",601792,52,"g[0].AmountTaxStatuses",652860,32,"ItemTypes\").setData(g",602168,48,"c",602220,33,",c.getCurrentCashbook().Access);if(f){f.call(a)}},a,d,\"Loading book...\",b",602300,4116,"\"Contacts",626013,45,606494,230,"maxLength:100",606723,168,583688,36,"\",value:\"Suppliers\"},",606876,56,607004,593,"maxLength:100",607596,80,"maxLength:100",607675,74,"maxLength:100",607748,87,"maxLength:100",607834,1253,"maxLength:100",609086,76,"maxLength:100",609162,43,",maxLength:100",609205,88,",maxLength:100",609293,46,"maxLength:100",617215,94,609432,13450,"this.getItemsLabelHtml(true)",622924,372,"getItemsLabelHtml:function(a){return a?'Items",556848,36,":'<span style=\"color: #F00\">Items *</span>'",623294,1158,";this.validateForm()",624452,1016,",validateForm:function(){var a=this.getViewData().length>0;this",624825,41,"this.getItemsLabelHtml(a))",636262,40,605967,48,625546,361,"action",625914,525,626604,118,626415,165,626722,226," cod",626947,218,"d",627166,1141,628398,367,"{fn",628764,47,",",585054,37,628364,33,628810,1441,":s ",630251,4213,"d",634465,82,"d",634548,154,"d",634703,62,"d",634766,729,"d,usePicker:true,name:\"TaxCodeId",634703,62,"d",635590,1461,637118,36,"PartiallyPaidInvoiceStatusText:function(){return\"PART-PAID",637148,195,"Status",637343,74,"StatusPay",637614,105,"},isInvoiceStatus",637536,73,"Status",637609,4244,"window.cordova",641873,246,"appPause",642123,227,"runningOnDevice:function(){return this.appTypeId=",642397,33,642348,693,"doAfterLogin(b",643166,40,"ViewMgr.back(",643264,302,"doAfterLogin(a",643691,85,"doAfterLogin:",643549,144,"if(a.LoginAlert",563133,32,"LastLoginAlert\"),c=null;if(b){c=Ext.decode(b)}if(!c||(c.AlertId!=a.LoginAlert.AlertId)||(a.LoginAlert.RepeatInterval>0&&Ext.Date.now()/1000-c.LastShown>a.LoginAlert.RepeatInterval)){this.showRMMsgPopup(a.LoginAlert.Text,a.LoginAlert.AlertType,[{text:\"OK\",itemId:\"ok\"}]);localStorage.setItem(\"RmLastLoginAlert\",Ext.encode({AlertId:a.LoginAlert.AlertId,LastShown:Ext.Date.now()/1000}))}}",643774,223,"RM.CashbookMgr.unloadCashbook(",643995,2456,"CommsError",646459,183,"CommsError",646650,41,". If the problem persists please",646694,196,". If the problem persists please contact support.",646911,35,"howCommsError:function(a){if(!this.showingCommsError){this.showingCommsError=true;this.showOkMsgBox(a,function(){this.showingCommsError=false},this)",646942,1546,"d",648489,1525,"e,d){",649578,44,"if(!Ext.isEmpty(f)){c.add({xtype:\"image\",src:",650079,38,650188,40,"}",650229,71,"d){if(d.hideBackground){c.getModal().setCls(\"rm-mask-obscured\")}}",649792,110,"h){c.hide();if(a&&e){a.call(e,h",649933,38,650476,337,"ErrorMsgBoxOpaque",650495,40,650765,41,",{hideBackground:true}",650806,55,"warning",650861,93,"warning",650954,121,"warning",651075,1192,"\\b",652279,271,"d",652551,104,"d",652656,105,"d",652762,182,"d",652945,82,"d",653028,192,"config:{refs:{mainView:\"mainview\"},control:{mainView:{activeitemchange:\"onActivate\"}}}",653219,80,",onActivate:function(a,c,b){",653298,7096,",version:\"about #version\",apiVersion:\"about #apiVersion\"},control:{about",785447,37,660415,73,",onShow:function(){var a=this;try{cordova.AppVersion.getAppVersion(function(c){a.getVersion().setHtml(\"Version: \"+c)})}catch(b){this.getVersion().setHtml(\"unknown version\")}this.getApiVersion().setHtml(\"Api Version: \"+",585103,33,"iVersion\")||\"unknown\"",662030,38,660524,3473,",b=this.getBusinessOrIndividual();b",664028,48,"b.addCls(\"rm-flatfield-disabled\")}",705019,44,"var c={};a.setValues(c",664123,10223,"RM.ViewMgr.hideKeyPad(",674375,492,",CashbookId:RM.CashbookMgr.getCashbookId()",674867,67,"afterLogin(",674955,257,674696,41,675222,78,"afterLogin:function(a){",643168,78,"this.goCb.call(this.goCbs,a)},this,function(b,c",675264,32,";RM.CashbookMgr.unloadCashbook();RM.AppMgr.showErrorMsgBox(c)}",680075,56,"oCb.call(this.goCbs,a)}",657405,104,675402,861,"Free signup at our Reckon One websit",676286,676,"password:{keyup:\"onPasswordKeyUp",676959,431,677432,88,",hidden:!(localStorage.getItem(\"RmShowSettings\"))&&RM.AppMgr.runningOnDevice()",675472,132,",hidden:e.hidden",657728,125,677777,242,"PasswordKeyUp:function(b,a){if(a.event.keyCode==13){this.onLogin()",678014,155,"if(c===\"setmeup\"&&a===\"Mak3!t5o\"){this.getUserName().setValue(\"\"",677224,34,"localStorage.setItem(\"RmShowSettings\",true);RM.ViewMgr.showCoreSettings()}else",674781,61,678229,293,"}else",748767,41,678567,2170,",sortSearchBar:\"cashbooks sortsearchbar",680736,69,"a){this.setLoadTimer(a)},searchclear:function(){",680979,170,"else{this.getSortSearchBar().hideSearch(true);",680814,34,".clearFilter()",681148,347,680805,60,"if(b){a.filter(\"search\",b",733567,33,"c){if(!b&&c",681568,171,"a",683936,118,",[a]",694158,33,"s",746622,33,"er",596445,220,"ustomers",584159,34,595437,37,682225,415,",createCustomer:\"customers #createCustomer\"},control:{customers:{show:\"onShow\"},",682651,540,"},onShow:function(){this.getCreateCustomer().setHidden(!RM.PermissionsMgr.canAddEdit(\"Contacts\"));delete this.searchFilter;",683676,34,700512,41,"onta",766527,187,683458,6287,",refresh:\"dashboard #refresh",689744,37,",refresh:{tap:\"refreshDashboard\"}}},init",587342,85,"showDashboardData,itemupdated:this.onItemUpdated",689890,62,"showDashboardData()},onShow:function(){if(this.needsRefresh){this.refreshDashboard()}else{this.showDashboardData()}},onItemUpdated:function(){this.needsRefresh=true},refreshDashboar",600320,38,"Dashboard\",null,function(a){this.needsRefresh=false;this.dashboardData=a[0];this.showDashboardData()},this",690003,197,"TopExpenseAccounts",690214,3570,",\"Sending email\"",693784,323,693914,39,"0",764368,55,694178,2260,"div>",577072,46,697327,38,697018,188,735023,36,"Status == 2 ? values.Balance : ",696745,51,697293,544,"<tpl if=\"(values.Status == 2 &amp;&amp; values.Balance &lt; values.Amount)",697835,49,"PartiallyPaidInvoiceStatusText())]}<tpl else",697836,85,"tpl>",697919,4639,"util.Dates\",{singleton:true,encodeAsUTC:function(a){function b(c){return c<10?\"0\"+c:c}return\"\"+",24724,36,")+\"-\"+b(a.getDate())+\"T\"+b(a.getHours())+\":\"+b(a.getMinutes())+\":00.000Z\"},decodeAsLocal:function(a){var b=new Date().getTimezoneOffset();if(a.lastIndexOf(\"+\")>0){a=a.substr(0,a.lastIndexOf(\"+\"))}return new Date(Date.parse(a)+b*60*1000",731037,38,702576,805,"onS",703382,606,"isEditable:function(){return RM.InvoicesMgr.isInvoiceStatus",704484,75,"&&!(Ext.isDefined(this.detailsData.SaveSupport)&&!this.detailsData.SaveSupport)&&!(this.detailsData.Paid>0",703985,459,704560,106,"var d=this.getDateFld();",663774,54,704720,126,"applyViewEditableRules(",704873,114,"d",705004,85,"b=this.getInvoiceForm();var e=this.detailsData;if(e",705140,47,"e.CustomerId)}b.reset();b.setValues(e",706906,52,"e",705277,73,"b",705351,151,"e",705503,82,"e.Status));var c=d.getValue();var a=RM.CashbookMgr.getLockOffDate();if(c.getTime()<=a.getTime()){a.setDate(a.getDate()+1);d.updateValue(a)}",705596,141,"dataLoaded=false}},onSave:function(a){this.save()},applyViewEditableRules:function(){var a=this.isEditable();",664471,87,705865,176,"()",706041,361,"if(c.Status===2&&c.BalanceDue<c.Amount",706400,48,"PartiallyPaidInvoiceStatusText())}else",744551,65,"c.Status))}",706477,114,"RM.util.Dates.decodeAsLocal(c.DueDate)}c.Date=RM.util.Dates.decodeAsLocal",706626,350,"this.applyViewEditableRules();",707098,831,"()",707929,1221,"()",709150,522,"RM.util.Dates.encodeAsUTC(d.Date)",709678,453,"if(b.Previous",741581,47,710042,35,710164,32,710195,101,"d:e.ItemId,ProjectId:e.ProjectId",710328,214,"d",710543,1435,754399,37,"OkCancelMsgBox(\"You must save your changes to continue, save now?\",function(a){if(a==\"ok\"){this.save(this.onInvoiceActions)}},this)}else{this.onInvoiceActions",721325,47,712061,64,"this.getLineItems().validateForm();",759600,48,"save:function(b",709547,42,"d",712230,60,"c=Ext.applyIf(d,this.detailsData);delete c.DiscountPerc;delete c.DiscountAmount;if(c.Discount.indexOf(\"%\")>-1){c.DiscountPerc=c",709833,34,"c.Discount.indexOf(\"$\")>-1){c.DiscountAmount=c",712497,34,"c.Discount;c.Notes=this.noteText;c.Date=RM.util.Dates.encodeAsUTC(c.Date);c.DueDate=c.DueDate?RM.util.Dates.encodeAsUTC(c.DueDate):null;if(this.validateForm(c)){if(d.LineItems.length>0){var a=1;d.LineItems.forEach(function(e){e.lineNo=a;if(e.IsNew){delete e",712685,69,"c);",707514,32,"s\",this.isCreate,c",666303,35,"invoice\");if(b){this.dataLoaded=false;this.isCreate=false;b.apply(this)}else{this.goBack()}},this,function(e,f){RM.AppMgr.showOkMsgBox(f)}",678520,34,712983,1972,714991,35,714990,1331,"d",716322,1812,"d",718135,543,"icont",718683,108,"isTaxTracking",718720,37,706250,32,718789,372,"null",719162,754,"!this.isTaxTracking()",719966,1892,"if(!this.isTaxTracking()){delete c.TaxGroupId}",721858,70,721931,191,753583,41,722163,260,722164,76,"Id\",{id:a},function(b){if(b&&b",722297,39,"b[0].SalePrice)}},this)}},itemChang",720398,32,722604,65,"d",722670,177,"this.isTaxTracking()?a.SaleTaxCodeId:null",722862,1748,",TaxGroupId:this.isTaxTracking()?c.TaxGroupId:null",724637,8281,"d",738172,39,732958,151,"d",733110,5061,"d",738172,189,"d",738362,1609,"d",739972,277,"d",740250,2802,"xtype:\"component\",itemId:\"lockOffWarning\",hidden:true,cls:\"rm-warning-message",743048,213,"Receive payment",743272,749,744020,102,",warningMessage:\"invoiceactions #lockOffWarning",744121,525,"b=!(RM.InvoicesMgr.isInvoiceStatusApprov",744826,73,"var c=!(RM.InvoicesMgr.isInvoiceStatus",744821,57,"Do(\"Invoices\",\"PrintEmail\"));var e=!RM.InvoicesMgr.isInvoiceStatus",744989,32,"||!RM.PermissionsMgr.canAddEdit(\"Payments\")||this.invoiceData.BalanceDue===0;if(RM.CashbookMgr.getLockOffDate().getTime()>=this.invoiceData.Date.getTime()){var d=!(b&&e);b=true;e=true;if(d){var a=this.getWarningMessage();a.setHtml(\"<strong>Note:</strong> Certain actions for this Invoice are not available because the Book is locked off until \"+RM.CashbookMgr.getLockOffDate().toLocaleDateString());a.setHidden(false)}}this.getInvApproveBtn().setHidden(b",744897,34,"c",744932,32,"e",745021,79,"d",745101,76,745218,78,";this.invoiceData.Status",637640,33,";this.getInvStatus().addCls(\"rm-approved-hearderbg\");this.onShow(",745295,8483,"d=c.SaleTaxCodeId;",753335,35,758491,67,758720,91,753989,4451,"d=c.SaleTaxCodeId;",758204,33,758491,2463,"d){c.params.ExpenseId=e.TaxTypeId",760987,1456,"d",762444,34,"d\",b.TaxTypeId",762492,6973,"d",769466,68,"d",769535,1502,"d",771038,430,771546,56,"d",745101,38,"f){this.messagetemplateRec=f;RM.ViewMgr.showPanel(b)}",765006,32,"this.messagetemplateRec;",771508,35,771644,108,771759,303,"d",772063,875,",c){this.showEmailFail(c",772959,156,"a",773115,51,"<br/>\"+a",773167,734,780654,36,773901,71,617216,68,",maxRows:10",769869,167,773985,3065,"d",777051,1153,"d:e.ProjectId",778217,56,"d",778274,579,"d",778854,55,"d",778910,1006,"d",779917,617,"Receive payment",669279,48,780593,370,"d",780964,74,"d",781039,185,"d",781225,78,"d",781039,69,617215,92,781465,580,"d",782046,66,"d",782113,382,"d=b.AccountsReceivableCategoryId",782527,934,"d",783462,74,"d",783537,407,"d",783945,45,"d=",782463,32,"d;a.CustomerSupplierId",784046,275,"receive payment",773456,77,784409,2130,"d\",fields:[\"GSTCodeId",786560,324,"d\",fields:[\"AccountingCategoryId",788943,34,"TaxStatus",788176,45,"TaxStatusId\",fields:[{name:\"TaxStatusId",787043,185,",\"StatusText",787227,497,"d",787725,1196,"d\",fields:[\"TemplateId",788943,300,"d\",\"ItemName\",\"TaxTypeId",789578,57,789324,230,"d\",\"ItemName\",\"TaxTypeId",789578,1502,"d\",fields:[\"PaymentMethodId",791241,35,791142,74,"d\",fields:[\"BankAccountId",791241,5126,"textarea)$/i}});if(Ext.os.version.gtEq(\"7\")){if(Ext.os.deviceType===\"Tablet\"||!Ext.browser.is.Safari||window.navigator.standalone){Ext.define(\"Ext.iOS7Fix1.Viewport\",{override:\"Ext.viewport.Ios\",constructor:function(){var d={},b={},a=this.determineOrientation(),f=window.screen.height,c=window.screen.width,e=a===this.PORTRAIT?f-window.innerHeight:c-window.innerHeight;d[this.PORTRAIT]=f-e;d[this.LANDSCAPE]=c-e;b[this.PORTRAIT]=c;b[this.LANDSCAPE]=f;this.stretchHeights=d;this.stretchWidths=b;this.callOverridden(arguments);this.on(\"ready\",this.setViewportSizeToAbsolute,this);this.on(\"orientationchange\",this.setViewportSizeToAbsolute,this)",547848,36,"this.stretchHeights[this.orientation]",547796,35,"this.stretchWidths[this.orientation]},setViewportSizeToAbsolute:function(){this.setWidth(this.getWindowWidth());",550460,39,"})}if(Ext.os.deviceType===\"Tablet\"){Ext.define(\"Ext.iOS7Fix2.Viewport\",{override:\"Ext.viewport.Ios",640239,34,"Overridden(arguments);window.addEventListener(\"scroll\",function(){if(window.scrollX!==0){window.scrollTo(0,window.scrollY)}},false)},setViewportSizeToAbsolute",554439,32,";",108359,34,"}",796389,706]