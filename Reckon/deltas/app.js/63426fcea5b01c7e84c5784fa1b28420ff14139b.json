["/*f39587b684dd82be7913320f2afcfee8447185b9",42,526041,"sv",526085,29811,"20",555898,602,"mponent.RMAmount",708976,39,"rmamountfield\",config:{clearIcon:false,listeners:{blur:\"showDisplayValue\",focus:\"showInputFld\"},cls:\"rm-flatfield\",currencyMode:true,decimalPlaces:2,trailingZerosUpTo:2,placeHolder:\"\"",601343,51,611434,97,"this.inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field rm-field-input-formatted\"></div>',true);this.displayEl.on(\"tap\",this.focus,this);this.initComplete=true;this.showDisplayValue(",604304,83,",s",609659,52,"if(this.initComplete){this.showDisplayValue(",618439,32,550119,32,"return RM.util.MathHelpers.roundToEven(a,this.getDecimalPlaces())},showDisplayValue:function(){if(this.displayVal){this.displayEl.show()}else{this.displayEl.hide()}},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide()}},onChange:function(b,c,a){if(!b.inChangeEvent){b.inChangeEvent=true;var d;if(!Ext.isNumeric(c)){d=null}else{d=this.applyValue(parseFloat(c))}this.updateValue(d);this.setDisplayValue(d);if(String(d)!=String(a)){this.fireEvent(\"change\",this,d,a);this.fireEvent(\"valueChange\",d,a)}b.inChangeEvent=false}},setDisplayValue:function(a){if(Ext.isNumeric(a)){if(this.getCurrencyMode()){this.displayVal=RM.AppMgr.formatCurrency(a,this.getDecimalPlaces())}else{this.displayVal=RM.AppMgr.numberWithCommas(a,this.getDecimalPlaces())}this.displayVal=this.handleTrailingZeros(this.displayVal);this.displayEl.setHtml(this.displayVal)}else{this.displayVal=null;this.displayEl.setHtml(\"\")}this.showDisplayValue(",568894,34,"callParent(arguments);this.showDisplayValue(",592462,77,"handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d",601117,51,"Ext.field.Text,xtype:\"rmphonefield\",config:{clearIcon:false,",493985,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",601343,51,611434,99,592539,80,",s",609659,52,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,709247,73,"});Ext.define(\"RM.view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",588464,86,"cls:\"rm-topbartitle\",html:\"Test Screen",622944,42,740429,57,"formpanel\",itemId:\"testScreenForm\",defaults:{",593327,36,"items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\",clearIcon:true},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"",634052,32,"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,decimalPlaces:4,maxValue:100,currencyMode:false,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}",634052,32,"Item Price\",clearIcon:true,name:\"ItemPrice\",labelWidth:120",762519,38,"readOnly:false,decimalPlaces:8,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",762519,38,"readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",556480,474,"if(a==\"Items\"){return false}",556954,1607,558660,250,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",558985,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559173,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",559361,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",560653,343,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",560653,55,561100,4420,"svg\",width:68,height:62,margin:\"28",653091,35,565589,96,"8 0 30 0\"",687759,34,565728,1773,"sv",567503,47," width: 7px; height: 6",567547,605,"sv",567503,47," width: 7px; height: 6",568198,545,"Cls:\"rm-sortsearch",620528,37,"search.sv",568780,395,"sv",569177,60,"sv",569239,124,"sv",569365,1389,",fetchLatest:function(){this.getList().getStore().loadPage(1,{callback:function(b,a,c){if(c){",522513,59,"}},scope:this})",570753,677,"{[RM.AppMgr.formatCurrency",571459,4814,"{[RM.AppMgr.formatCurrency",576302,2101,"Mobil",578405,3693,"sv",672726,61,582161,260,582454,111,"svg\" style= \"width: 90px; height: 90px;",582568,6905,"svg\",iconCls:\"rm-backbtniconcls",734352,56,589532,610,"svg\",iconCls:\"rm-backbtniconcls",734352,56,590201,485,"svg\",iconCls:\"rm-backbtniconcls",734352,56,590745,539,"{[RM.AppMgr.formatCurrency",591313,1534,"svg\",iconCls:\"rm-backbtniconcls",790283,32," details",620301,63,573007,46,592999,6625,603063,1594,"svg\",iconCls:\"rm-backbtniconcls",613992,36,620303,55,604751,1247,"\",label:\"First name\",rmmandatory:true",606028,45,606085,34,",hidden:true},{name:\"BusinessName\",label:\"Business name\",border:\"0 0 1 0\",rmmandatory:true,hidden:true},{name:\"BranchName\",label:\"Branch name\",hidden:true,border:\"1 0 1 0\"",606119,244,606381,182,606581,319,606918,180,607116,6873,"svg\",iconCls:\"rm-backbtniconcls",613992,2787,599624,1512,620024,217,"svg\",iconCls:\"rm-backbtniconcls",613992,42,620287,221,"rrowimgbtn rm-photobtnfon",727808,35,"photo.svg\",iconCls:\"rm-photobtniconsize",620574,725,634143,64,710637,46,710894,99,621526,2709,"svg\",height:30,padding:0,iconCls:\"rm-lineitemcrossbg\",margin:\"-6",624270,75,"RM.AppMgr.formatCurrency",624375,1307,"svg\",iconCls:\"rm-backbtniconcls",762240,42,625727,129,"sv",625858,3657,"svg\",iconCls:\"rm-backbtniconcls",734352,50,629568,112,629693,52,"svg\",iconCls:\"rm-btniconsize",629748,3487,"svg\",iconCls:\"rm-backbtniconcls",773630,37,633275,3145,"sv",636422,3377,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",639780,2626,"this.getServerRec(c+\"/\"+e",642461,2737,"s",645198,78,"s",645276,2239,"sv",647517,92,"5",647610,391,"sv",648003,52,"sv",647517,72,"e,height:55,width:65",648149,1458,"c,b){if(Ext.isNumber(c)){c=RM.util.MathHelpers.roundToEven(c,b)}else{c=0}var a=c.toFixed(b||1).replace(/\\B(?=(\\d{3})+\\.)/g,\",\");if(!b){a=a.replace(\".0\",\"\")}return a",649706,88,"\\.)/g,\",\")},formatCurrency:function(d,c,e){if(isNaN(d)){d=0}if(!c&&c!==0){c=2}var a=(d<0);var b=this.numberWithCommas(Math.abs(d),c);d=\"$\"+b;if(a&&e){return\"(\"+d+\")\"}return(((a)?\"-\":\"\")+d)},unformatCurrency:function(a){return parseFloat(a.replace(/(\\()?(-)?(\\$)?(,)?(\\))?/g,\"\")",649807,892,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true",730078,32,650729,131,"controller.TestScreen",713248,44,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",662553,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25.12345,ItemPrice:52625.123456789,BusPhone:\"072367672\"};this.getTestScreenForm().setValues",665532,36,650874,233,"svg\",iconCls:\"rm-backbtniconcls",762240,42,651152,1905,"sv",653059,131,"8",653192,1587,"menu",672191,133,654912,987,",zIndex:1000",655899,780,"svg\",iconCls:\"rm-backbtniconcls",734352,56,656738,2588,659386,203,"usinessNam",660000,32,"BusinessName]\",branchNam",660000,32,"BranchName]\",firstNam",660000,32,"FirstName]\",surnam",660000,33,"urn",659710,1276,661098,34,"ReadOnly(!this.isCreate",660984,1154,"!a.FirstNameBranchName){this.getFirstName",748624,36,"a.IsPerson==true&&!a.SurnameBusinessName){this.getSurname",748624,36,"a.IsPerson==false&&!a.SurnameBusinessName){this.getBusinessName",748624,37,662220,75,662373,275,"if(a.IsPerson===true){a.FirstNameBranchName=a.FirstName;a.SurnameBusinessName=a.Surname}else{a.FirstNameBranchName=a.BranchName;a.SurnameBusinessName=a.BusinessName}delete a.FirstName;delete a.Surname;delete a.BranchName;delete a.BusinessName",662647,1317,"usinessName().setHidden(false",665175,33,"false);this.getFirstName().setHidden(true);this.getSurname().setHidden(true",664124,193,663931,33,"usinessName().setHidden(true",665175,33,"true);this.getFirstName().setHidden(false);this.getSurname().setHidden(false",664612,409,";this.getFirstName().setValue(a.FirstNameBranchName);this.getSurname().setValue(a.SurnameBusinessName",665020,58,";this.getBusinessName().setValue(a.SurnameBusinessName);this.getBranchName().setValue(a.FirstNameBranchName",665077,108,"Phone",665296,33,665293,448,"btniconcls",636367,53,"svg",762240,42,665839,2861,"sv",668702,495,"sv",669199,627,"sv",672726,61,687769,35,669924,2267,"menu",672191,533,"sv",672726,143,"M",672870,1365,"menu",672191,126,674361,1116,"svg\",iconCls:\"rm-backbtniconcls",773630,58,"]",669968,43,675582,1009,671789,43,"Setting p",671840,51,671739,35,676628,1903,"svg\",iconCls:\"rm-backbtniconcls",734352,56,678590,2199,"svg\",iconCls:\"rm-backbtniconcls",762240,42,"Budge",767166,38,680877,832,"{[RM.AppMgr.formatCurrency",681738,136,"{[RM.AppMgr.formatCurrency",681903,72,"return RM.AppMgr.formatCurrency(b,2,true)",571888,86,"}]",673216,32,682215,5443,"svg\",iconCls:\"rm-backbtniconcls",734352,56,687717,3229,"svg\",iconCls:\"rm-backbtniconcls",690949,2215,"{[RM.AppMgr.formatCurrency",693193,465,"{[RM.AppMgr.formatCurrency",693193,36,693723,3703,"Customer",697426,96,684320,174,"nvoices",713248,44,697802,2705,"f,a,e",700512,61,"f?f",700576,37,"e",745545,43,"c){var d=new Date();d.setHours(0,0,0,0);",700660,164,"d",700834,568,"if(!this.dataLoaded){",701402,76,701499,1731,"RM.AppMgr.formatCurrency",703252,1609,"e,d",704864,65,"d",704930,32,"var b=this;function c(){b.calculateBreakdown();b.getLineItems().setTaxStatus(d);b.previousAmountTaxStatus=d}if(d",735360,32,"&&this.taxModificationsExist()){RM.AppMgr.showYesNoMsgBox(\"This change will remove the modified tax information on all your line items, are you sure you want to do this?\",function(f){if(f===\"yes\"){c()}else{e.suspendEvents();e.setValue(a);",704896,33,"a;e.resumeEvents(true)}},this)}else{c()}",705023,997,"PreviousAmountTaxStatus!==b.AmountTaxStatus){",706015,103,"e.TaxIsModified=false;return e})}else",706068,34,"e.DefaultTaxGroupId;return e})}",706128,268,"AmountTax:e.DiscountAmount",706384,840,"RM.AppMgr.formatCurrency",707273,32,707306,894,753693,34,708331,290,708196,97,708621,318,",taxModificationsExist:function(){var b",705669,39,"a=false;Ext.Array.some(b,function(c){if(c.TaxIsModified||c.TaxGroupId!==c.DefaultTaxGroupId){a=true;return true}});return a",611280,32,708970,1365,"svg\",iconCls:\"rm-backbtniconcls",790283,32," details",620301,63,573007,46,604875,41,710528,242,711751,33,710789,135,"readOnly:true",621456,70,710993,362,711373,36,"8,prefix:\"$",712031,32,593292,54,711524,36,"currencyMode:false",711559,67,"readOnly:true",711625,509,712154,2512,"isCreate=false;",714661,116,"UnitPriceAccuracy:2",714776,178,"b",714955,247,"b.reset();b",715213,45,"Display",715258,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",720399,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);",715422,236,"b",715659,340,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",716394,33,"c",716452,982,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",717433,75,717614,160,"DefaultTaxGroupId=a.SaleTaxCodeID;",718255,32,717789,439,"var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2}",715333,32,718260,169,"Amount=null;",719607,36,"=null;",715264,35,"=null;if(b.indexOf(\"%\")>-1){",715264,35,716114,58,"if(",718232,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",716362,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",718288,33,718464,598,"f",719063,420,"if",715263,36,"){e.DiscountPercentage=",715264,35,719579,64,";e.DiscountAmount",719603,35,"Tax}switch(f",719652,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",719607,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",719867,116,"g",719984,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g",720052,40,"g.AmountTax;this.detailsData.Tax=g.",720100,41,"g",720142,62,"g.DiscountedTaxExcl",720156,32,"Amount=g.Discount",720156,32,"AmountExTax=g.DiscountAmountExTax",720530,32,"Tax=g.DiscountAmountTax;this.setDiscountDisplay",715258,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",720399,43,"this.detailsData.UnitPriceAccuracy",720334,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",720589,51,"g){alert(g",720650,1784,"svg\",iconCls:\"rm-backbtniconcls",734352,56,722493,5355,"svg\",iconCls:\"rm-backbtniconcls",734352,56,"Add e",575584,138,722632,185,728235,577,"{[RM.AppMgr.formatCurrency",576302,62,722926,40,728943,5406,"svg\",iconCls:\"rm-backbtniconcls",734352,839,"{0",735518,67,735261,57,735319,196,735516,121,735638,127,"{4",735518,67,735835,61,"{5",735518,56,735955,71,736027,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",736352,284,"svg\",iconCls:\"rm-backbtniconcls",734352,56,736695,183," rm-invoiceactionbtnlabel",656640,34,"accept.svg\",iconCls:\"rm-invoiceactioniconcls",736922,92," rm-invoiceactionbtnlabel",656640,34,737048,108," rm-invoiceactionbtnlabel",656640,34,"email.svg\",iconCls:\"rm-invoiceactioniconcls",737199,105," rm-invoiceactionbtnlabel",656640,34,"history.svg\",iconCls:\"rm-invoiceactioniconcls",737349,2955,"svg\",iconCls:\"rm-backbtniconcls",740307,325,"currencyMode:false",740631,43,"maxValue:100",620832,33,740724,141,"\"",763192,89,"}]",673216,32,741007,249,"rmamountfield\":{focus:\"onFieldFocus",741286,458,"parseFloat(b.replace(\"%\",\"\")",741760,53,"RM.AppMgr.unformatCurrency(b",741852,33,"Focus:function(a){console.log(\"focus\"",741628,40,741939,478,"RM.AppMgr.formatCurrency(",742156,37,",2)}",769438,34,742527,8685,"sv",751214,59,"sv",751275,10948,"svg\",iconCls:\"rm-backbtniconcls",734352,56,762282,490,"svg\" style=\"margin-right: 10px; width: 18px; height: 18px;",762802,4314,"svg\",iconCls:\"rm-backbtniconcls",734352,50,625743,55,722544,61,767285,70,",maxRows:10",673216,32,767387,6210,"svg\",iconCls:\"rm-backbtniconcls",773600,874,"svg\",iconCls:\"rm-backbtniconcls",773600,67,774544,156,"sv",774702,182,"sv",774702,62,774948,117,"sv",774702,62,775129,10313,"ageSize:8",785440,2445,"'+RM.AppMgr.formatCurrency(b.get(\"PeriodAmount",787423,48,"Proje",786368,58,788067,524,"TestScree",788586,1666,"svg\",iconCls:\"rm-backbtniconcls",734352,56,"Item",572157,35,691087,47,790397,346]