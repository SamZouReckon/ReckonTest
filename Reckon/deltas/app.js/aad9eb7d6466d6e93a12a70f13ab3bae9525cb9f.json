["/*a4d2878c408de44a0a312e63f419f50bffc54ae8",42,556460,",VERSION:0.5",556502,607,"alternateClassName:\"RM.PermissionsMgr\",",608734,32,557141,711,"alternateClassName:\"RM.EventMgr\",",557852,8843,567484,3207,566947,527,682510,156,570863,229,"Due date\",value:\"duedate",571854,41,"Customer\",value:\"customer",623052,34,566695,233,",lastUpdatedDateFormat:\"d/m/Y h:iA\",",571583,8050,"RM.HomeSettingsMgr.getSetting(\"PrivacyPolicyUrl\")",579659,172,"RM.HomeSettingsMgr.getSetting(\"TermsUrl\")",579659,54,579911,124,"RM.HomeSettingsMgr.getSetting(\"AppInfoUrl\")",580061,1273,581342,110,581827,36,581462,116,581827,36,"expenses\",index:\"ExpenseClaim",581612,95,581827,36,581717,1992,"alternateClassName:\"RM.ViewMgr\",",583709,325,"&&RM.AppMgr.isLoggedIn()&&this.dashboardShown",584907,35,584041,683,"this.showBackStack(\"onDeviceBack\"",584630,68,"else{if(this.formBackHandler){this.formBackHandler.call(this.formB",584773,112,586002,33,"Cashbooks\")){this.confirmExitApp",584869,40,"RM.AppMgr.isLoggedIn()&&this.dashboardShown",584907,35,586238,33,657691,33,";",586302,39,"Dashboard\"",584870,37,"){this.confirmExitApp()}else{this.back()}}}}}}},confirmExitApp",751330,64,585149,64,585234,152,"regFormBackHandler:function(b,a){this.formBackHandler=b;this.formBackHandlerScope=a},deRegFormBackHandler:function(){this.formBackHandler=null;this.formB",585364,509,"dashboardShown=true;",586302,39,"Dashboard",586351,44,585960,1108,"console.log(\"stack length = \"+this.appBackStack.length",587066,5342,597520,73,"getValue:function(){this.showValidation(true);",477264,49,592635,1134,"alternateClassName:\"RM.Selectors\",",608734,32,593801,1421,"HomeSettingsMgr\",{alternateClassName:\"RM.HomeSettingsMgr\",singleton:true,load",691648,34,"s(\"HomeSettings\",null,function(a){this.homeSettings=a},this,function(a){})},getSetting:function(b){for(var a=0;a<this.homeSettings.length;a++){if(this.homeSettings[a].Key.toLowerCase()==b.toLowerCase()){return this.homeSettings[a].Value}}return null",595198,542,"c",595741,618,"if(d[0].AmountTaxStatuses",642992,32,"TaxStatuses\").setData(d[0].AmountTaxStatuses)}else{",632777,109,"able\"},",632830,33,"INCLUSIVE,Name:\"Include tax\"},",632830,33,"EXCLUSIVE,Name:\"Exclude tax\"}])}",596359,858,609272,141,"itemId:\"doneContainer",658714,41,"40,cls:\"rm-keypad-topbar\"},items:[{text:\"CANCEL\",itemId:\"cancel\",},{itemId:\"bar\",},{text:\"DONE\",itemId:\"done\",",609520,120,658366,290,609787,59,"itemId:\"dotContainer",658714,85,".\",itemId:\"dotBtn\"},{text:\"\",itemId:\"blankBtn\",hidden:true},{text:\"0\",itemId",658807,55,",itemId:\"backspace\"}]}]},initialize:function(){if(!this.config.keypadType){var b=this.getComponent(\"doneContainer\");b.setHidden(true)}if(this.config.keypadType===\"phone\"){var c=this.getComponent(\"dotContainer\");var a=c.getComponent(\"dotBtn\");var d=c.getComponent(\"blankBtn\");d.setHidden(false);a.setHidden(true",554766,32,610036,45,"(a.getText()?a.getText().toLowerCase():a.getItemId().toLowerCase()",610105,53,"Phone",610164,50,"phone",604572,33,"is.isInitializing=true;this.readOnlyField=a.readOnly||false;this.callParent(arguments)",615376,56,610281,34,";this.setReadOnly(true);this.isInitializing=false},onFieldFocus:function(d,c){if(this.keypadOnTop){return}if(this.readOnlyField){return}this.fieldMaskEl=c.target.nextElementSibling;this.showCursor();this.fieldUniqueId=c.target.id;",610403,62,"docked:\"bottom\",keypadType:\"phone",610492,88,"revertBackVal=this.getValue(",610573,169,"650);this.keypadOnTop=true",624615,32,"removeKeypad,this",610790,163,"if(this.keypadOnTop){var b=this.getValue();if(b==\".\"){b=\"0.0\"}",610975,129,611230,59,";",624445,35,"clearCursorBlinkTimer(",610573,138,"0,false)},300);this.fireValueChangeEvent(b)}},onKeyTap:function(b){if(b===\"bar\"||b===\"blankbtn\"){return}if(b===\"done\"){this.removeKeypad();return}if(b===\"cancel\"){this.setValue(this.revertBackVal);this.removeKeypad();return}var d=this.getValue();var a=d.toString();var c=a.length;if(b===\"backspace\"){if(c",611575,43,"this.setValue(a+b)}",612037,34,"?b.toString():\"\";if(!a&&a!==\"\"){this.valBeforeChange=",612150,183,"showCursor:function(b){var a=this;this.cursorBlink",592124,59,"fieldMaskEl.style.cssText=\"display: none !important;\"}else{a.fieldMaskEl.style.cssText=\"\"",592228,42,612620,89,",clearCursorBlinkTimer:function(){if(this.cursorBlink",612663,32,"cursorBlinkTimer)}this.fieldMaskEl.style.cssText=\"display: none !important;\"},setReadOnly:function(a){this.callParent([true]);if(this.isInitializing){return}this.readOnlyField=a},getReadOnly:function(){return this.readOnlyField},fireValueChangeEvent:function(c){var b=parseFloat(c)||\"\";var a=parseFloat(this.valBeforeChange)||\"\";if(b!=a){this.fireEvent(\"valueChange\",b,a",677308,34,597220,207,"var a=this.getPhonePicker();if(a){a.setListeners({",604960,100,",scope:this}",597425,307,",getValue:function(){this.showValidation(true);",477264,49,677326,361,",getValue:function(){this.showValidation(true);",477264,49,598653,869,"labelWidth:\"10em",599520,231,599880,814,"rmphonefield\",cls:\"rm-flatfield rm-cursor-blinkbg",600724,151,"rmphonefield\",cls:\"rm-flatfield rm-cursor-blinkbg",600905,288,"rmphonefield\",cls:\"rm-flatfield rm-cursor-blinkbg",601223,149,"rmphonefield\",cls:\"rm-flatfield rm-cursor-blinkbg",601402,88,"xt",601489,50,",labelWidth:\"4em",601538,505,"alternateClassName:\"RM.ContactsMgr\",",608734,38,630893,126,602207,1571,"if(!c){return}",603778,998,"1",604777,360,"how();",605124,38,605181,60,"a?this.showValidation(true):this.showValidation(false);",605241,58,"callParent([valueInField]",598173,35,"duration",597517,75,605507,770,597518,75,"getValue:function(){this.showValidation(true);",477264,49,597747,914,606300,2434,"alternateClassName:\"RM.TimeSheetsMgr\",",608734,538,610156,71,"constructor:function(a){this.isInitializing=true;this.readOnlyField=a.readOnly||false;a.trailingZerosUpTo=a.trailingZerosUpTo==0||a.trailingZerosUpTo?a.trailingZerosUpTo:2;a.prefix=a.prefix||\"\";this.callParent(arguments)",615376,56,610281,34,";this.setReadOnly(true);this.isInitializing=false},onFieldFocus:function(d,c){if(this.keypadOnTop){return}if(this.readOnlyField){return}this.fieldMaskEl=c.target.nextElementSibling;this.showCursor();this.fieldUniqueId=c.target.id;",610403,62,"docked:\"bottom\",keypadType:\"amount",610492,88,"revertBackVal=this.getValue(",610573,169,"600);this.keypadOnTop=true",624615,32,"removeKeypad,this",610790,163,"if(this.keypadOnTop){var b=this.getValue();if(b==\".\"){b=\"0.0\"}",611230,59,610974,57,"config.prefix+this.formatVal(b))}",624445,35,"clearCursorBlinkTimer(",610573,138,"0,true)},300);this.fireValueChangeEvent(b)}},onKeyTap:function(b){if(b===\"bar\"){return}if(b===\"done\"){this.removeKeypad();return}if(b===\"cancel\"){this.setValue(this.revertBackVal);this.removeKeypad();return}",611462,33,"config.prefix",611506,62,"space",611568,142,"config.prefix+\"0\"&&b!=\".\"){a=this.config.prefix",611753,62,"config.prefix+\"0\"){a=this.config.prefix",611850,107,"){a=a.replace(/,/g,\"\")}",611936,73,"config.prefix",612020,51,"?b.toString():\"\";if(!a&&a!==\"\"){this.valBeforeChange=c;if(this.config.decimalPlaces&&c!==\"\"){c=this.formatVal(c)}}",612083,67,"this.formatVal(c)}if(!this.keypadOnTop){this.fireValueChangeEvent(b)",612151,182,"showCursor:function(){var a=this;this.cursorBlink",592124,59,"fieldMaskEl.style.cssText=\"display: none !important;\"}else{a.fieldMaskEl.style.cssText=\"\"",592228,42,612620,89,",clearCursorBlinkTimer:function(){if(this.cursorBlink",612663,32,"cursorBlinkTimer)}this.fieldMaskEl.style.cssText=\"display: none !important;\"},setReadOnly:function(a){this.callParent([true]);if(this.isInitializing){return}this.readOnlyField=a},getReadOnly:function(){return this.readOnlyField},fireValueChangeEvent:function(d){var c=d.toString();c=c.replace(/,/g,\"\");if(c",611960,34,"d=c.slice(this.config.prefix.length)}var b=parseFloat(d)||\"\";var a=parseFloat(this.valBeforeChange)||\"\";if(b!=a){this.valBeforeChange=b;this.fireEvent(\"valueChange\",b,a)}},formatVal:function(e){var c=parseFloat(e).toString();var f=c.indexOf(\".\");if(f!==-1){var b=c.length-f-1;var d=this.config.trailingZerosUpTo-b;if(d>0){for(i=0;i<d;i++){c=c+\"0\"}}}else{if(this.config.trailingZerosUpTo>0){c=c+\".\";for(i=0;i<this.config.trailingZerosUpTo;i++){c=c+\"0\"}}}if(this.config.prefix){if(c.indexOf(\".\")!=-1){var a=c.split(\".\");a[0]=a[0]",642556,37,";c=a[0]+\".\"+a[1];return c}else{return c",642556,37,"}}else{return c",612707,1258,"ls:\"rm-flatfield rm-cursor-blinkbg",614015,919,"alternateClassName:\"RM.ExpensesMgr\",",608734,32,614966,1630,"(b.LineText||b.Description||b.ItemName)",564975,47,616653,4193,",listeners:[{element:\"element\",event:\"tap\",fn:function(){this.toggleOptions()},scope:this}]",620846,3152,624040,350,";",623998,41,624390,518,"},",579584,37,"var e=this.getItemId();if(e==5||e==10||e==20){e=e+\"%\"}a.call(b,e",624969,45,625131,907,"ext",626038,62,"extselectfield\",label:\"Item type\",itemId:\"itemT",626126,165,"itemId:\"itemName\",labelWidth:\"7em",626289,92,626496,206,"rmamount",626708,38,"cls:\"rm-flatfield rm-cursor-blinkbg",614015,64,",border:\"0",619561,35,"ccount\",itemId:\"account",626840,226,699695,33,593419,99,"autoSelect:fals",627227,1935,"alternateClassName:\"RM.InvoicesMgr\",",608734,34,629196,198,"APPROV",629400,779,"b,e",631982,58,"CustomerInvoicesC\");a.showView(c,d,b",630268,2142,"Ext.Ajax.setDefaultHeaders({\"X-APIV\":RM.Consts.Api.VERSION})",632409,251,633056,36,".init(a)",633158,36,".init(a)",633276,40,".init(a)",633394,50,"RM.HomeSettingsMgr.load",633454,1326,"RM.ViewMgr.clearBackStack();this.logoutFromServer();this.login",634801,166,";this.login",634965,32,"if(this.isUserLoggedIn){",636073,37,635034,84,"isUserLoggedIn=false}",635125,312,"s",635437,289,635729,235,"getServerRec:function(b,e,a,c,d){return this.getServerRecs(b,e,function(f){if(a){a.call(c,f[0])}},c,d",635961,1215,"b",637177,178,"b",637356,35,"b",637392,128,"b.status==412){var a=Ext.decode(b.statusText);this.showAppStop(a.ErrCode,a.ErrDesc)}else{if(b",637521,105,"b.status+\" \"+b.statusText+\")\")}",637656,114,"&&this.appTypeId!==RM.Consts.App.WEB_CONTAINER){b=\"staging\"}this.apiLocation=b;if(b==\"staging",637825,33,".reckoncloud",637948,189,638205,79,"this.baseApiUrl=\"/api\"",638591,1683,"AppStop",587836,71,"AppStopC\");c.showView(a,b",640267,4077,"Staging\",value:\"staging",644374,93,644503,34,644567,1062,"});Ext.define(\"RM.view.AppStop\",{extend:Ext.Panel,xtype:\"appstop",671470,46,666285,77,582699,48,"component\",html:\"App Stop\",cls:\"rm-topbartitle",644927,35,"AppStop",676528,44,"appStop:\"appstop\"},control:{appstop",762847,37,"a,b){this.errMsg=b;RM.ViewMgr.showPanel2({xtype:\"appstop\"})},onShow:function(){this.getAppStop().add({xtype:\"component\",padding:10,html:this.errMsg}",645664,6336,",hide:\"onHide",651999,573,"RM.ViewMgr.regFormBackHandler(this.back,this);",652572,178,652760,337,667176,34,"FormBackHandler()",653095,558,"!a.Description",653670,138,"a.Email!==\"\"&&",750484,170,653853,175,"a.IsActive=true",654027,1247,"ranchName",679875,32,655273,372,"console.log(this.getBranchName().getValue());",653599,36,"this.getBranchName().getValue()",655263,35,655678,6351,"console.log(\"EnterPin onShow\");",662029,349,";RM.AppMgr.logoutFromServer",662376,2501,";RM.AppMgr.logoutFromServer(",664876,542,"RM.HomeSettingsMgr.getSetting(\"SignupUrl\")",665461,3159,668648,8681,677705,2242,"&&a",750363,44,679899,34,680117,36,"FormMsg();return c}if(b",750363,44,679987,66,";RM.AppMgr.showInvalidFormMsg();return c",680053,825,570691,143,"itlebar\",docked:\"top\",title:\"A Title\",itemId:\"title",682656,104,",align:\"left\"},{text:\"ADD\",itemId:\"add\",align:\"right",570960,132,"Due date\",value:\"duedate",571854,33,623054,32,"InvoicesList",628747,34,"slist\",config:{layout:\"fit\",control:{list:{itemtap:\"onItem",627549,36,"ustomerId=this.config.customerId;",683090,74,"var b=(this.config.sortVal==\"duedate\")",591356,32,683195,56,"b",683255,135,";",749952,43,728653,45,"Invoices\"));if(b",674567,34,"}RM.AppMgr.loadStore(a",687043,213,"reload:function(){this.loadList()},setS",685745,53,"clearSearch",685809,47,",loadList",743261,48,"Invoices\"",745040,36,686784,88,729711,166,687255,204,683445,2022,680889,60,"C",680950,43,"Title:\"customer",685583,32,681037,42,"\"customerinvoices #back\":{tap:\"back\"},",681079,88,"\"onSearch\",searchclear:\"onSearchClear",681411,146,"c,d,b,e){this.invoicesTitle=c;this.customerId=d;this.customerName=b;",681559,92,686379,35,"e)",686534,47,"Title('<span style=\"text-shadow:none; font-weight:normal;\">'+this.invoicesTitle+\"</span>\")",691006,43,"){this.activeList.reload()}",716639,35,"CustomerInvoices();a.removeAt(2);this.activeList=a.add({xtype:\"invoiceslist\",sortVal:b,isShowCustomer:false})},onSearch:function(a){this.activeList.setSearch(a)},onSearchClear:function(){this.activeList.clearSearch(",687456,179,687872,52,"component.CustInvSummaryLis",725098,32,"invsummarylist\",config:{layout:\"fit\",control:{list:{select:\"onItemSelect",627552,63,571187,395,");",749952,36,"CustomerInvoic",728652,46,"CustomerInvoices\"));RM.AppMgr.loadStore(a",670589,72,682080,102,"reload:function(){this.loadList()},setS",685745,53,"clearSearch",685809,47,",loadList",743261,48,"Invoices\"",729566,32,686839,33,"RM.AppMgr.loadStore(a",687671,200,688112,36,669840,45,"Invoices:\"invoices",685598,51,685679,72,"\"onSearch\",searchclear:\"onSearchClear\"},\"",681375,40,681423,150,686113,37,645328,45,"if(!this.dataLoaded){this.onSort(\"duedate\");this.dataLoaded=true",691005,44,"){this.activeList.reload()}",716639,35,"Invoices();a.removeAt(2);if(b==\"customer\"){this.activeList=a.add({xtype:\"custinvsummarylist\"})}else{this.activeList=a.add({xtype:\"invoiceslist\",sortVal:b,isShowCustomer:false})}},onSearch:function(a){this.activeList.setSearch(a)},onSearchClear:function(){this.activeList.clearSearch(",682179,94,687906,968,",hide:\"onHide",688873,228,"change",689113,471,"lineItemsDirty=false;",652253,80,689659,190,",Amount:0,DiscountTotal:0,Tax:0,Subtotal:0,Paid:0,BalanceDue:0",689849,225,"RM.ViewMgr.regFormBackHandler(this.back,this);",690074,134,690234,776,667178,32,"FormBackHandler()",691006,1164,"c.Notes=c.Notes?c",731548,51,692182,276,690263,41,"false",692456,1006,"b,a",693607,35,"detailsData.AmountTaxStatus=b;this.previousAmountTaxStatus=a;",693637,49,693558,46,"c,a",693607,568,"d",694176,34,";var c",694212,39,"b={CustomerId:d.CustomerId,InvoiceDate:d.Date,AmountTaxStatus:d",694290,87,"d",703789,41,"entage=d",694427,34,"d",703879,44,"d.Discount.replace(\"$\",\"\")}}b.LineItems=c.map(function(e){return{InvoiceLineItemId:e.InvoiceLineItemId,ItemType:e.ItemType,ItemID:e.ItemId,Proje",755800,37,"UnitPriceExTax:e.UnitPriceExTax,DiscountAmount:e.DiscountAmount,DiscountPercentage:e.DiscountPercentage,TaxGroupID:e.TaxGroupId,Tax:e.Tax,TaxIsModified:e.TaxIsModified}});",694863,43,"b,function a(e){var l=e[0];var h=this.detailsData;h.Amount=l.TotalIncludingTax;h.AmountExTax=l.TotalExcludingTax;h.Tax=l.Tax||0;h.Subtotal=l.Subtotal;h.DiscountTotal=l.Discount||0;h.Paid=l.AmountPaid;h.BalanceDue=l.BalanceDue;var g=this.getLineItems();g.removeAllItems();for(var f=0;f<c.length;f++){var k=c[f];var j=null;Ext.Array.some(l.Items,function(m){if(m.InvoiceLineItemId===k.InvoiceLineItemId){j=m;return true}});if(!j){c[f]=null}else{Ext.apply(k,j)}}c=Ext.Array.clean(c);g",690876,33,"g.addLineItems(c",695353,42,"e){alert(e",695405,966,"c",694176,34,";c",696408,51,"1;c.LineItems.forEach(function(d){d.lineNo=a;if(d.IsNew){delete d.InvoiceLineItemId}a+=1}",738712,40,"delete b.DiscountPerc;delete b.DiscountAmount;if(b",703789,42,"b",694427,34,"b",703879,44,"b",696664,34,"b.Discount;b",696710,42,"b)){if(c",696760,64,"b);",694863,32,"s\",this.isCreate,b",696877,111,"d,e){alert(e)}",666109,34,697036,1123,",getValue:function(){this.showValidation(true);",477264,49,698174,1040,"container",699219,79,"rmamount",699307,92," rm-cursor-blinkbg\",placeHolder:\"enter\"",614052,37,"rmamount",593280,65," rm-cursor-blinkbg\",decimalPlaces:4,trailingZerosUpTo:0,prefix:\"",699504,58,"placeHolder:\"none",699560,40,"rmamountfield\",name:\"Amount\",itemId",699620,65,614052,37,699695,100,"itemId",699781,116,"rmamountfield\",name:\"Tax\",itemId:\"Tax\",label:\"Tax\",labelWidth:\"7em\",cls:[\"rm-flatfield\",\"rm-cursor-blinkbg\",\"rm-flatfield-last\"],decimalPlaces:2,prefix:\"$\",clearIcon:true",699976,214,700054,61,"true)},hideTaxFields:function(){this.down(\"#TaxGroupId\").setHidden(true);this.down(\"#Tax\").setHidden(true);this.down(\"#Amount\").addCls([\"rm-flatfield-last\"])},setTaxModified:function(a){var b=this.down(\"#Tax\");if(a){b.addCls([\"rm-field-warning\"]);b.setLabel(\"Tax (modified)\");b.removeCls(\"clear-icon-hidden\")}else{b.removeCls([\"rm-field-warning\"]);b.setLabel(\"Tax\");b.addCls(\"clear-icon-hidden\")}}});Ext.define(\"RM.util.PseudoGuid\",{singleton:true,currentIndex:1,guidMask:",743519,38,",next:function(){var b=this.currentIndex.toString();var a=new RegExp(\"0{\"+b.length+\"}$\");var c=this.guidMask.replace(a,b);this.currentIndex+=1;if(this.currentIndex>999999999999){this.currentIndex=1}return c",705984,37,"LineItem",676528,44,700343,248,"disc",700680,33,"Discount",700588,420,"valueChange:\"unitPriceChanged\"},tax:{valueC",701041,36,"valueChange:\"quantityChanged\"},discount:{change:\"discount",701093,128,"this.ignoreEvents=false",701247,140,701565,42,"IsNew:true,InvoiceLineItemId:RM.util.PseudoGuid.next(),",701607,290,731709,35,"setDiscountValue(this.detailsData.DiscountPercentage,this.detailsData.DiscountAmount",702238,91,"if",702356,52,"{this.getItemDetail().hideTaxFields()}this.setTaxModified(this.detailsData.TaxIsModified",702407,185,"setTaxModifi",704058,32,"TaxIsModified=a;this.getItemDetail().setTaxModified(a)},getDiscountValue:function(){var b=this.getDiscount().getValue();var a={};if(b",696550,32,"entage=parseFloat(b.replace(\"%\",\"\"))}else{if(b",696628,35,"parseFloat(b.replace(\"$\",\"\"))}}return a},setDiscountValue:function(b,a){if(b){this.detailsData.Discount=b+\"%\"}else{if(a){this.detailsData.Discount=\"$\"+Ext.Number.toFixed(a,2)}else{this.detailsData.Discount=\"\"}}this.getDiscount().setValue(this.detailsData.Discount)",702590,132,"||0,function(c){b.setValue(c==0?\"",702768,728,"Ext.apply(this.detailsData,c);b.ItemType=a;b.Quantity=b.Quantity||1;var d=this.getDiscountValue();",694752,35,"entage;",694809,33,";",703963,197,"setTaxModified(false)",704191,158,"this.isTaxInclusive()?\"\"",704348,44,"var b=this",704656,32,"\"Item\",function(){b",705882,36,"})},unitPriceChanged:function(",704720,50,702240,32,"detailsData.UnitPriceExTax=b",704939,32,"\"UnitPrice\")},disc",704697,90,"Discount",704654,34,"\"Discount\")},taxAmountChanged:function(",704720,50,"if(!b){",704155,36,"}else",704546,32,"true",704939,32,"\"Tax\"",704837,134,"\"Quantity\"",704971,38,"g,",705009,202,"ChangeStatus:2,",705211,35,"||1,TaxGroupID:c.TaxGroupId",705296,46,"Tax:this.detailsData.TaxIsModified?c.Tax:null",703710,47,"};var f=this.getDiscountValue();if(f.DiscountPercentage){e.DiscountPercentage=f.DiscountPercentage}else{e.DiscountAmountExTax=this.detailsData.DiscountAmountExTax}switch(g){case\"UnitPrice\":e.UnitPrice=this.getUnitPrice().getValue();e.UnitPriceIsModified=true;break;case\"Quantity\":e.QuantityIsModified=true;break;case\"Discount\":if(!e.DiscountPercentage){e.DiscountAmount=f.DiscountAmount}e.DiscountIsModified=true;break",705587,77,"j){var h=j[0].Items[0];this.ignoreEvents=true;this.detailsData.AmountExTax=h.AmountExTax;this.detailsData.DiscountedTaxAmount=h.DiscountedTaxAmount;this.detailsData.DiscountedTaxExclAmount=h.DiscountedTaxExclAmount;if(g===\"UnitPrice\")",704622,33,"h.UnitPriceExTax}this.setTaxModified(h.TaxIsModified)",705758,63,"h.UnitPrice",703725,33,"Amount:h.Amount,Tax:h.Tax});this.setDiscountValue(e.DiscountPercentage,h.DiscountAmount);this.detailsData.DiscountAmountExTax=h.DiscountAmountExTax;this.ignoreEvents=false;if(b){b()}},this,function(h){alert(h",705968,5777,"display:inline",717006,70,"Time",716489,38,711867,5129,"display:inline",717006,3209,720242,146,720822,59,720444,167,702375,32,"?\"\":'",720464,48,"Total (excluding tax)",720830,51,"2",720445,67,"Tax",720830,71,"')+'",720464,48,"T",720826,55,"4",720445,67,720949,63,"5",720445,56,721069,73,"6",721143,49,"Subtotal",721198,57,"AmountExTax",721233,47,"Amount",721288,3690,"RM.AppMgr.loadStore(this.getHistory",673819,72,725080,383,725473,41,"component\",height:1},{xtype:\"rmamoun",725520,52,"decimalPlaces:4,prefix:\"",613497,35," rm-cursor-blinkbg\",placeHolder:\"enter\"},{xtype:\"rmamoun",725660,58,"decimalPlaces:2,prefix:\"$",613497,35," rm-cursor-blinkbg\"",747948,89,644928,35,725949,280,726304,149,"console.log(\"CustomDiscount showView\")",726452,687,"validateForm:function(){console.log(\"validateForm\");",727448,3140,",hide:\"onHide",730587,499,"RM.ViewMgr.regFormBackHandler(this.back,this);",731086,713,667176,34,"FormBackHandler()",735979,67,731864,2779,",hide:\"onHide",734642,538,"RM.ViewMgr.regFormBackHandler(this.back,this);",735180,403,735598,383,667176,34,"FormBackHandler()",735979,5292,"if(!e.success){alert(e.responseText)}else{this.goBack()}},failure:function(e){alert(e.responseText)",741306,9061,"&&a.Subject",750363,44,750314,33,750550,36,"FormMsg();return b}",750353,127,";RM.AppMgr.showInvalidFormMsg();return b",750480,452,",\"Sending...\"",750932,1721,"var a=this.getNoteText().getValue();if(a",752651,32,"a)}else{RM.AppMgr.showOkMsgBox(\"Please enter some text for the note\")",703104,37,675007,34,752783,3546,"itemTypeFld:\"createitem #itemType\",itemNameFld:\"createitem #itemName",756327,509,"RM.Consts.ItemStatus.ACTIVE",750778,52,756935,103,737855,44,"ItemType){this.getItemTypeFld",750448,37,"a.Name",703190,60,"SaleCategoryID){this.getAcctCa",737920,41,703386,44,687872,52,757091,15215,"AppStop",772302,2129]