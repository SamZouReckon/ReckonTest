["/*7e49c682d75337fb7462fe38918766961d08f38d",42,526041,"svg",636572,41,526127,29743,"20000,STORE_LOAD_TIME_OUT:2",555897,603,"mponent.RMAmount",709206,39,"rmamountfield\",config:{clearIcon:false,listeners:{blur:\"showDisplayValue\",focus:\"showInputFld\"},cls:\"rm-flatfield\",currencyMode:true,decimalPlaces:2,trailingZerosUpTo:2,placeHolder:\"\"",617136,51,709310,102,"inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field rm-field-input-formatted\"></div>',true);this.displayEl.on(\"tap\",this.focus,this);this.initComplete=true;this.showDisplayValue(",603897,83,",s",609709,52,"if(this.initComplete){this.showDisplayValue(",618582,32,550119,32,"return RM.util.MathHelpers.roundToEven(a,this.getDecimalPlaces())},showDisplayValue:function(){if(this.displayVal){this.displayEl.show()}else{this.displayEl.hide()}},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide()}},onChange:function(b,c,a){if(!b.inChangeEvent){b.inChangeEvent=true;var d;if(!Ext.isNumeric(c)){d=null}else{d=this.applyValue(parseFloat(c))}this.updateValue(d);this.setDisplayValue(d);if(String(d)!=String(a)){this.fireEvent(\"change\",this,d,a);this.fireEvent(\"valueChange\",d,a)}b.inChangeEvent=false}},setDisplayValue:function(a){if(Ext.isNumeric(a)){if(this.getCurrencyMode()){this.displayVal=RM.AppMgr.formatCurrency(a,this.getDecimalPlaces())}else{this.displayVal=RM.AppMgr.numberWithCommas(a,this.getDecimalPlaces())}this.displayVal=this.handleTrailingZeros(this.displayVal);this.displayEl.setHtml(this.displayVal)}else{this.displayVal=null;this.displayEl.setHtml(\"\")}this.showDisplayValue(",568894,34,"callParent(arguments);this.showDisplayValue(",592462,77,"handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d",601117,51,"Ext.field.Text,xtype:\"rmphonefield\",config:{clearIcon:false,",493985,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",617136,51,709310,97,603898,82,",s",609709,52,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,611258,91,"view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",588464,86,"cls:\"rm-topbartitle\",html:\"Test Screen\"",568684,35,614158,63,"formpanel\",itemId:\"testScreenForm\",defaults:{",593327,36,"items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\",clearIcon:true},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"",634282,32,"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,decimalPlaces:4,maxValue:100,currencyMode:false,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}",634282,32,"Item Price\",clearIcon:true,name:\"ItemPrice\",labelWidth:120",762749,38,"readOnly:false,decimalPlaces:8,listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",762749,38,"readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",556480,474,"if(a==\"Items\"){return false}",556954,1607,558660,250,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",558985,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559173,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",559361,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",560653,343,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",560653,55,561100,4420,"svg\",width:68,height:62,margin:\"28",653321,35,565589,96,"8",565686,1815,"sv",567503,47," width: 7px; height: 6",567547,605,"sv",567503,47," width: 7px; height: 6",568198,545,"Cls:\"rm-sortsearchbt",568736,42,"sv",568780,395,"sv",569177,60,"sv",569239,124,"sv",569365,1389,",fetchLatest:function(){this.getList().getStore().loadPage(1,{callback:function(b,a,c){if(c){",522513,59,"}},scope:this})",570753,677,"{[RM.AppMgr.formatCurrency",571459,4814,"{[RM.AppMgr.formatCurrency",729071,62,576364,2039,"Mobil",578405,3693,"sv",672956,61,582161,260,582454,111,"svg\" style= \"width: 90px; height: 90px;",582568,6905,"svg\",iconCls:\"rm-backbtniconcls",656912,56,589532,610,"svg\",iconCls:\"rm-backbtniconcls",656912,56,590201,485,"svg\",iconCls:\"rm-backbtniconcls",656912,56,590745,539,"{[RM.AppMgr.formatCurrency",591313,1534,"svg\",iconCls:\"rm-backbtniconcls",710568,158,593008,6616,603113,1594,"svg\",iconCls:\"rm-backbtniconcls",614042,36,592892,55,604801,1247,"\",label:\"First name\",rmmandatory:true",606078,45,606135,34,",hidden:true},{name:\"BusinessName\",label:\"Business name\",border:\"0 0 1 0\",rmmandatory:true,hidden:true},{name:\"BranchName\",label:\"Branch name\",hidden:true,border:\"1 0 1 0\"",606169,244,606431,182,606631,319,606968,180,607166,6873,"svg\",iconCls:\"rm-backbtniconcls",614042,2787,599624,1512,620254,217,"svg\",iconCls:\"rm-backbtniconcls",614042,42,620517,221,"rrowimgbtn rm-photobtnfon",625872,35,"photo.svg\",iconCls:\"rm-photobtniconsize",620804,725,673232,37,621584,2881,"svg\",height:30,padding:0,iconCls:\"rm-lineitemcrossbg\",margin:\"-6 0 0 2\"},",624078,38,"amount\",docked:\"right\",html:RM.AppMgr.formatCurrency",624605,1307,"svg\",iconCls:\"rm-backbtniconcls",590159,42,"Invoice",614094,64,626028,58,"sv",626088,3657,"svg\",iconCls:\"rm-backbtniconcls",656912,50,629798,112,620751,44,"addnote.svg\",iconCls:\"rm-btniconsize",629978,3487,"svg\",iconCls:\"rm-backbtniconcls",675710,37,633505,3145,"sv",636652,3377,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",640010,2626,"this.getServerRec(c+\"/\"+e",642691,2737,"s://",645516,38,645469,37,"s",645506,2239,"sv",648287,72,"f,height:50,width:255",647840,391,"sv",648233,52,"sv",648287,91,"5",648379,1458,"c,b){if(Ext.isNumber(c)){c=RM.util.MathHelpers.roundToEven(c,b)}else{c=0}var a=c.toFixed(b||1).replace(/\\B(?=(\\d{3})+\\.)/g,\",\");if(!b){a=a.replace(\".0\",\"\")}return a",649936,88,"\\.)/g,\",\")},formatCurrency:function(d,c,e){if(isNaN(d)){d=0}if(!c&&c!==0){c=2}var a=(d<0);var b=this.numberWithCommas(Math.abs(d),c);d=\"$\"+b;if(a&&e){return\"(\"+d+\")\"}return(((a)?\"-\":\"\")+d)},unformatCurrency:function(a){return parseFloat(a.replace(/(\\()?(-)?(\\$)?(,)?(\\))?/g,\"\")",650037,892,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true}",650928,162,"controller.TestScreen",666448,44,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",662783,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25.12345,ItemPrice:52625.123456789,BusPhone:\"072367672\"};this.getTestScreenForm().setValues(a",651070,267,"svg\",iconCls:\"rm-backbtniconcls",590703,43,651383,1904,"sv",653289,131,"8",653422,1587,"menu",672421,133,"logout",655455,71,655219,910,",zIndex:1000",656129,780,"svg\",iconCls:\"rm-backbtniconcls",656912,2644,659616,203,659882,42,"BusinessName]",659816,43,"BranchName]\",first",659824,44,"]\",surname",659563,38,659943,1273,661328,34,"ReadOnly(!this.isCreate",661214,1154,"!a.FirstNameBranchName){this.getFirst",748767,42,"IsPerson==true&&!a.SurnameBusinessName){this.getSurn",748768,41,"IsPerson==false&&!a.SurnameBusinessName){this.getBusiness",748767,40,662449,76,662603,275,"if(a.IsPerson===true){a.FirstNameBranchName=a.FirstName;a.SurnameBusinessName=a.Surname}else{a.FirstNameBranchName=a.BranchName;a.SurnameBusinessName=a.BusinessName}delete a.FirstName;delete a.Surname;delete a.BranchName;delete a.BusinessName",662877,1317,"usinessName().setHidden(false",665405,33,"false);this.getFirstName().setHidden(true);this.getSurname().setHidden(true",664354,193,664161,33,"usinessName().setHidden(true",665405,33,"true);this.getFirstName().setHidden(false);this.getSurname().setHidden(false",664842,409,";this.getFirstName().setValue(a.FirstNameBranchName);this.getSurname().setValue(a.SurnameBusinessName)}else{",661328,40,"\"Business\");this.getBusinessName().setValue(a.SurnameBusinessName);this.getBranchName().setValue(a.FirstNameBranchName",665307,108,665485,486,"btniconcls",710512,53,"svg",590159,42,666069,2861,"sv",668932,495,"sv",669429,627,"sv",672956,61,687999,35,670154,2267,"menu",672421,533,"sv",672956,143,"M",673100,1365,"menu",672421,126,674591,1116,"svg\",iconCls:\"rm-backbtniconcls",675710,1111,663177,41,",\"Setting p",672070,51,"else{",677053,56,676884,1877,"svg\",iconCls:\"rm-backbtniconcls",656912,56,"Custom",590207,64,678890,2129,"svg\",iconCls:\"rm-backbtniconcls",590159,42,681064,875,"{[RM.AppMgr.formatCurrency",681968,136,"{[RM.AppMgr.formatCurrency",682133,72,"return RM.AppMgr.formatCurrency(b,2,true)",571888,86,652253,34,682445,5443,"svg\",iconCls:\"rm-backbtniconcls",656912,56,687947,3229,"svg\",iconCls:\"rm-backbtniconcls",691179,2215,"{[RM.AppMgr.formatCurrency",693423,465,"{[RM.AppMgr.formatCurrency",693423,36,693953,3703,"Customer",697656,96,697807,2930,"f,a,e",700742,61,"f?f:{}",745740,34,"e",745775,43,"c){var d=new Date();d.setHours(0,0,0,0);",700890,164,"d",701064,568,"if(!this.dataLoaded){",701632,76,661225,35,701764,1696,"RM.AppMgr.formatCurrency",703482,1609,"e,d",705288,37,"detailsData.AmountTaxStatus=d",705160,32,"var b=this;function c(){b.calculateBreakdown();b.getLineItems().setTaxStatus(d);b.previousAmountTaxStatus=d}if(d",706265,32,"&&this.taxModificationsExist()){RM.AppMgr.showYesNoMsgBox(\"This change will remove the modified tax information on all your line items, are you sure you want to do this?\",function(f){if(f===\"yes\"){c()}else{e.suspendEvents();e.setValue(a);",705126,33,"a;e.resumeEvents(true)}},this)}else{c()}",705253,997,"PreviousAmountTaxStatus!==b.AmountTaxStatus){",706245,103,"e.TaxIsModified=false;return e})}else",706298,34,"e.DefaultTaxGroupId;return e})}",706358,268,"AmountTax:e.DiscountAmount",706614,840,"RM.AppMgr.formatCurrency",707503,32,707536,894,708527,324,708426,97,771886,43,708894,275,",taxModificationsExist:function(){var b",705899,39,"a=false;Ext.Array.some(b,function(c){if(c.TaxIsModified||c.TaxGroupId!==c.DefaultTaxGroupId){a=true;return true}});return a",709168,1397,"svg\",iconCls:\"rm-backbtniconcls",710568,432,711981,33,711019,135,"readOnly:true",621686,70,711223,362,711603,36,"8",711640,94,711752,38,"currencyMode:false",711789,67,"readOnly:true",711855,509,712384,2512,"isCreate=false;",714891,116,"UnitPriceAccuracy:2",715006,178,"b",715185,247,"b.reset();b",751021,37,"DiscountDisplay",715488,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",720629,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);",715652,236,"b",715889,340,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",716624,33,"c",716682,982,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",717663,75,717844,160,"DefaultTaxGroupId=a.SaleTaxCodeID;",720480,32,718019,439,"var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2}",715563,32,718490,169,"Amount=null;",719837,36,"=null;",715494,35,"=null;if(b.indexOf(\"%\")>-1){",715494,35,716344,58,"if(",718462,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",716592,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",719212,33,718694,598,"f",719293,420,"if",715493,36,"){e.DiscountPercentage=",715494,35,719809,64,";e.DiscountAmount",719833,35,"Tax}switch(f",719882,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",719837,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",720097,116,"g",720214,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g",720282,40,"g.AmountTax;this.detailsData.Tax=g.",720330,41,"g",720372,62,"g.DiscountedTaxExcl",720386,32,"Amount=g.DiscountAmount;",719837,36,"=g.DiscountAmountExTax",720760,32,"Tax=g.DiscountAmountTax;this.setDiscountDisplay",715488,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",720629,43,"this.detailsData.UnitPriceAccuracy",720564,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",720819,51,"g){alert(g",720880,1784,"svg\",iconCls:\"rm-backbtniconcls",656912,56,722723,5355,"svg\",iconCls:\"rm-backbtniconcls",656912,56,"Add e",575584,138,722862,185,"ExpenseSelect",571120,108,723165,223,"4",574672,48,723437,83,"4",574672,48,728990,52,"{[RM.AppMgr.formatCurrency",729071,5508,"svg\",iconCls:\"rm-backbtniconcls",656912,56,734638,783,735422,126,735549,196,"{2",735424,67,"Tax",735696,49,735868,127,"{4",735424,67,"Already paid",735696,49,736127,129,736257,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",739390,55,736637,229,"svg\",iconCls:\"rm-backbtniconcls",656912,56,736925,183," rm-invoiceactionbtnlabel",614000,34,"accept.svg\",iconCls:\"rm-invoiceactioniconcls",737152,92," rm-invoiceactionbtnlabel",614000,34,737278,108," rm-invoiceactionbtnlabel",614000,34,"email.svg\",iconCls:\"rm-invoiceactioniconcls",737429,105," rm-invoiceactionbtnlabel",614000,34,"history.svg\",iconCls:\"rm-invoiceactioniconcls",737579,2955,"svg\",iconCls:\"rm-backbtniconcls",740537,325,"currencyMode:false",740861,43,"maxValue:100",621887,33,740954,141,"\"",763422,89,652253,35,741238,248,"rmamountfield\":{focus:\"onFieldFocus",741516,458,"parseFloat(b.replace(\"%\",\"\")",741990,53,"RM.AppMgr.unformatCurrency(b",742082,33,"Focus:function(a){console.log(\"focus\"",741858,40,742169,478,"RM.AppMgr.formatCurrency",742680,38,742719,8723,"sv",751444,59,"sv",751505,10948,"svg\",iconCls:\"rm-backbtniconcls",656912,56,762512,490,"svg\" style=\"margin-right: 10px; width: 18px; height: 18px;",763032,4314,"svg\",iconCls:\"rm-backbtniconcls",656912,50,681072,35,592927,81,767515,70,",maxRows:10",652255,32,"AddNote",666448,44,767668,5947,"Old",773615,212,"svg\",iconCls:\"rm-backbtniconcls",773830,655,773615,85,590030,50,636560,39,710528,37,"svg\",iconCls:\"rm-backbtniconcls",614042,42,"Pay invoice",572959,48,"PAY\",itemId:\"pay",762592,81,"rmamountfield\",name:\"AmountPaid",621478,34,"labelWidth:150",626496,36,"placeHolder:\"Enter\"",621584,37,"extselectfield\",label:\"Bank Account\",rmmandatory:true,labelWidth:150,usePicker:true,name:\"BankAccountID\",store:\"BankAccounts\",displayField:\"Description\",valueField:\"BankAccountID\",autoSelect:false,placeHolder:\"S",627373,36,634448,33,"Payment Method\",rmmandatory:true,labelWidth:150,usePicker:true,name:\"PaymentMethodID\",store:\"PaymentMethods\",displayField:\"Description\",valueField:\"PaymentMethodID\",autoSelect:false,placeHolder:\"S",627373,37,605856,69,"]",774446,39,"Msg",773615,40,775446,362,"acceptPaymentForm:\"acceptpayment formpanel\",amountPaid:\"acceptpayment textfield[name=AmountPaid]\",bankAccount:\"acceptpayment extselectfield[name=BankAccountID]\",paymentMethod:\"acceptpayment extselectfield[name=PaymentMethodID]",775952,112,776096,55,"pay\":{tap:\"onPay",776261,107,"b){this.invoiceId=b.InvoiceId;this.fullAmount=b.BalanceDue;this.accountsReceivableCategoryID=b.AccountsReceivableCategoryID;this.customerId=b.CustomerId",776424,64,"this.loadSelectFields();",735152,54,"getAcceptPaymentForm();a.setValues({AmountPaid:this.fullAmount})},loadSelectFields:function(){",739851,36,"BankAccounts\");b",743536,40,"BankAccount\"));RM.AppMgr.loadStore(b,function(){},this",697136,38,"PaymentMethods",757470,44,"PaymentMethod\")",765612,35,"},this)",777951,163,"Payment Accepted\"",690751,40,"To(\"slidenavigationview\"",765712,39,"if(!a.AmountPaid){this.getAmountPai",753264,38,"a.BankAccountID){this.getBankAccoun",766078,33,"}if(!a.PaymentMethodID){this.getPaymentMetho",753264,71,";return false}if(a.AmountPaid>this.fullAmount){this.getAmountPaid().showValidation(false);RM.AppMgr.showErrorMsgBox(\"Payment Amount cannot be more than the balance due amount of \"+RM.AppMgr.formatCurrency(this.fullAmount));b=false}return b},onPay",777960,39,"Form().getValues();a.InvoiceID=this.invoiceId;a.AccountsReceivableCategoryID=this.accountsReceivableCategoryID;a.CustomerSupplierID=this.customerId",748406,50,"\"AcceptPayment\",true,a",777835,75,772940,35,"onB",767011,74,"pay invoice",767098,77,778315,7357,"ageSize:8",785670,2445,"'+RM.AppMgr.formatCurrency(b.get(\"PeriodAmount\"",788187,634,"TestScree",788816,1666,"svg\",iconCls:\"rm-backbtniconcls",656912,56,790541,432]