["/*7e49c682d75337fb7462fe38918766961d08f38d",42,526041,"svg",717149,41,526127,30394,557684,47,559866,43,"showDisplayValue\",focus:\"showInputFld\"},cls:\"rm-flatfield\",currencyMode:true",556712,36,557832,289," rm-field-input-formatte",558120,46,"focus,this);this.initComplete=true",558184,160,"if(this.initComplete){this.showDisplayValue(",624132,32,"a){",559514,36,728284,32,"a,this.getDecimalPlaces())},showDisplayValue:function(){if(this.displayVal){this.displayEl.show()}else{this.displayEl.hide()}",560636,71,"}},onChange:function(b,c,a){if(!b.inChangeEvent){b.inChangeEvent=true;var d;if(!Ext.isNumeric(c)){d=null}else{d=this.applyValue(parseFloat(c))}this.updateValue(d);this.setDisplayValue(d);if(String(d)!=String(a)){this.fireEvent(\"change\",this,d,a);this.fireEvent(\"valueChange\",d,a)}b.inChangeEvent=false}},setDisplayValue:function(a){if(Ext.isNumeric(a)){if(this.getCurrencyMode()){this.displayVal=RM.AppMgr.formatCurrency(a,this.getDecimalPlaces())}else{this.displayVal=RM.AppMgr.numberWithCommas(a,this.getDecimalPlaces())}this.displayVal=this.handleTrailingZeros(this.displayVal);this.displayEl.setHtml(this.displayVal)}else{this.displayVal=null;this.displayEl.setHtml(\"\")}this.showDisplayValue(",574509,34,560463,45,561056,75,",handleTrailingZeros:function(d){var b=d.indexOf(\".\");if(b!==-1&&this.getTrailingZerosUpTo()>0){var c=false;var a=this.getDecimalPlaces()-this.getTrailingZerosUpTo();d=d.split(\"\").reverse().filter(function(f,e){if(e>=a||f!==\"0\"){c=true;return true}return c}).reverse().join(\"\")}else{d=d.replace(/([0-9]+)\\.0+$/,\"$1\")}return d",606735,51,559111,34,559146,652,561149,408,",clearIcon:true",561887,32,561589,105,561695,82,"decimalPlaces:4,maxValue:100,currencyMode",562053,56,561836,61,"rmamountfield\",label:\"Item Price\",clearIcon:true,name:\"ItemPrice\",labelWidth:120",770265,38,"readOnly:false,decimalPlaces:8",562059,50,561836,120,561957,9178,"svg\",width:68,height:62,margin:\"28",659917,35,571204,96,"8 0 30 0\"",676703,34,571343,1773,"sv",573118,47," width: 7px; height: 6",573162,605,"sv",573118,47," width: 7px; height: 6",573813,545,"Cls:\"rm-sortsearchbt",574351,42,"sv",574395,395,"sv",574792,60,"sv",574854,124,"sv",574980,1389,",fetchLatest:function(){this.getList().getStore().loadPage(1,{callback:function(b,a,c){if(c){",522513,59,"}},scope:this})",576368,677,"{[RM.AppMgr.formatCurrency(values.Total",736640,43,594637,32,577162,4726,"{[RM.AppMgr.formatCurrency",581917,5799,"sv",679550,61,587779,260,588072,111,"svg\" style= \"width: 90px; height: 90px;",588186,6905,"svg\",iconCls:\"rm-backbtniconcls",798015,56,595150,610,"svg\",iconCls:\"rm-backbtniconcls",798015,56,595819,485,"svg\",iconCls:\"rm-backbtniconcls",798015,56,596363,539,"{[RM.AppMgr.formatCurrency",596931,1534,"svg\",iconCls:\"rm-backbtniconcls",717230,158,598626,6616,608731,1594,"svg\",iconCls:\"rm-backbtniconcls",748093,36,598510,55,610419,1247,"\",label:\"First name\",rmmandatory:true",611696,45,611753,34,",hidden:true},{name:\"BusinessName\",label:\"Business name\",border:\"0 0 1 0\",rmmandatory:true,hidden:true},{name:\"BranchName\",label:\"Branch name\",hidden:true,border:\"1 0 1 0\"",611787,225,612013,182,679807,41,612237,278,612516,180,679807,41,612738,6851,"svg\",iconCls:\"rm-backbtniconcls",748093,42,619634,2745,605242,1512,625804,217,"svg\",iconCls:\"rm-backbtniconcls",748093,42,626067,221,"rrowimgbtn rm-photobtnfon",744368,35,"photo.svg\",iconCls:\"rm-photobtniconsize",626354,725,610688,37,627134,2881,"svg\",height:30,padding:0,iconCls:\"rm-lineitemcrossbg\",margin:\"-6 0 0 2\"},",629628,38,"amount\",docked:\"right\",html:RM.AppMgr.formatCurrency",630155,1307,"svg\",iconCls:\"rm-backbtniconcls",657936,42,"Invoice",619644,64,631578,58,"sv",631638,3657,"svg\",iconCls:\"rm-backbtniconcls",798015,50,635348,112,626301,44,"addnote.svg\",iconCls:\"rm-btniconsize",635528,3487,"svg\",iconCls:\"rm-backbtniconcls",682304,37,639055,3145,"sv",642202,6215,"this.getServerRec(c+\"/\"+e",648472,5056,"sv",653530,92,"5",653623,391,"sv",654016,52,"sv",653530,72,"e,height:55,width:65",654162,1458,"c,b){if(Ext.isNumber(c)){c=",728284,32,"c,b)}else{c=0}var a=c.toFixed(b||1).replace(/\\B(?=(\\d{3})+\\.)/g,\",\");if(!b){a=a.replace(\".0\",\"\")}return a",655719,88,"\\.",655813,34,"d,c,e){if(isNaN(d)){d=0}if(!c&&c!==0){c=2}var a=(d<0);var b=this.numberWithCommas(Math.abs(d),c);d=\"$\"+b;if(a&&e){return\"(\"+d+\")\"}return(((a)?\"-\":\"\")+d)},un",744062,34,"parseFloat(",656077,40,656116,1472,".12345,ItemPrice:52625.123456789",657607,326,"svg\",iconCls:\"rm-backbtniconcls",657936,1947,"sv",659885,131,"8",660018,1587,"menu",679015,133,661738,987,",zIndex:1000",662725,780,"svg\",iconCls:\"rm-backbtniconcls",798015,56,663564,2588,666212,203,666478,42,"BusinessName]",666412,43,"BranchName]\",firstNam",666826,32,"FirstName]\",surname",666159,38,666539,1273,671792,34,"ReadOnly(!this.isCreate);if(",709039,36,667851,1113,"!a.FirstNameBranchName){this.getFirst",669005,40,"a.IsPerson==true&&!a.SurnameBusinessName){this.getSurn",669006,39,"a.IsPerson==false&&!a.SurnameBusinessName){this.getBusiness",669005,116,669199,275,"if(a.IsPerson===true){a.FirstNameBranchName=a.FirstName;a.SurnameBusinessName=a.Surname}else{a.FirstNameBranchName=a.BranchName;a.SurnameBusinessName=a.BusinessName}delete a.FirstName;delete a.Surname;delete a.BranchName;delete a.BusinessName",669473,1317,"usinessName().setHidden(false",671999,33,"false);this.getFirstName().setHidden(true);this.getSurname().setHidden(true",670950,226,"usinessName().setHidden(true",671999,33,"true);this.getFirstName().setHidden(false);this.getSurname().setHidden(false",671436,409,";this.getFirstName().setValue(a.FirstNameBranchName);this.getSurname().setValue(a.SurnameBusinessName)}else",671791,42,"Business\");this.getBusinessName().setValue(a.SurnameBusinessName);this.getBranchName().setValue(a.FirstNameBranchName",671901,108,672079,486,"btniconcls",598412,53,"sv",657935,43,672663,2861,"sv",675526,495,"sv",676023,627,"sv",679550,61,676713,2302,"menu",679015,533,"sv",679550,1509,"menu",679015,126,681185,1116,"svg\",iconCls:\"rm-backbtniconcls",682304,1111,780446,41,",\"Setting p",678664,51,"else{",683647,56,683478,1877,"svg\",iconCls:\"rm-backbtniconcls",798015,56,685414,2199,"svg\",iconCls:\"rm-backbtniconcls",687616,917,"{[RM.AppMgr.formatCurrency",688562,136,"{[RM.AppMgr.formatCurrency",688727,72,744089,32,"b,2,true)",577503,86,689005,5477,"svg\",iconCls:\"rm-backbtniconcls",798015,56,694541,3229,"svg\",iconCls:\"rm-backbtniconcls",697773,2215,"{[RM.AppMgr.formatCurrency",700511,36,"div>",794938,34,700253,38,700129,353,"{[RM.AppMgr.formatCurrency",700511,3739,"Customer",704250,96,699312,144,720096,36,745184,45,704626,3628,"if(!this.dataLoaded){",708254,76,708351,3364,"e,d",711912,37,"detailsData.AmountTaxStatus=d",711784,32,"var b=this;function c(){b.calculateBreakdown();b.getLineItems().setTaxStatus(d);b.previousAmountTaxStatus=d}if(d",722460,32,"&&this.taxModificationsExist()){RM.AppMgr.showYesNoMsgBox(\"This change will remove the modified tax information on all your line items, are you sure you want to do this?\",function(f){if(f===\"yes\"){c()}else{e.suspendEvents();e.setValue(a);",711750,33,"a;e.resumeEvents(true)}},this)}else{c()}",711877,997,"PreviousAmountTaxStatus!==b.AmountTaxStatus){",712869,103,"e.TaxIsModified=false;return e})}else",712922,34,"e.DefaultTaxGroupId;return e})}",712982,1134,"RM.AppMgr.formatCurrency",714165,32,714198,894,761439,34,715223,290,715088,97,724304,36,715549,282,",taxModificationsExist:function(){var b",715053,41,"false;Ext.Array.some(b,function(c){if(c.TaxIsModified||c.TaxGroupId!==c.DefaultTaxGroupId){a=true;return true}});return a",616880,32,715862,1365,"svg\",iconCls:\"rm-backbtniconcls",717230,432,718643,33,717681,135,"readOnly:true",717815,432,718265,36,"8",718302,94,718414,38,"currencyMode:false,prefix:\"\"",632976,40,"label:\"Discount\",readOnly:true",718517,509,719046,2512,"isCreate=false;",721553,2886,"DefaultTaxGroupId=a.SaleTaxCodeID",727440,33,724454,5765,"svg\",iconCls:\"rm-backbtniconcls",798015,56,730278,5355,"svg\",iconCls:\"rm-backbtniconcls",798015,56,735692,905,"{[RM.AppMgr.formatCurrency",581917,62,736688,5446,"svg\",iconCls:\"rm-backbtniconcls",798015,56,742193,2215,"svg\",iconCls:\"rm-backbtniconcls",798015,57,744468,182," rm-invoiceactionbtnlabel",574352,34,"accept.svg\",iconCls:\"rm-invoiceactioniconcls",744694,92," rm-invoiceactionbtnlabel",574352,34,744820,108," rm-invoiceactionbtnlabel",744928,40,"svg\",iconCls:\"rm-invoiceactioniconcls",744971,105," rm-invoiceactionbtnlabel",574352,34,"history.svg\",iconCls:\"rm-invoiceactioniconcls",745121,2955,"svg\",iconCls:\"rm-backbtniconcls",748079,279,748359,46,"currencyMode:false",748404,43,"maxValue:100",679808,39,"},{xtype:\"rmamountfield",748509,498,749008,480,"parseFloat(b.replace(\"%\",\"\")",749504,9454,"sv",758960,59,"sv",759021,10948,"svg\",iconCls:\"rm-backbtniconcls",798015,56,770028,490,"svg\" style=\"margin-right: 10px; width: 18px; height: 18px;",770548,4314,"svg\",iconCls:\"rm-backbtniconcls",798015,50,781398,61,774976,125,",maxRows:10",660287,33,775134,5997,"Old",781131,212,"svg\",iconCls:\"rm-backbtniconcls",782223,67,578576,46,781459,542,781131,85,575696,50,782144,76,"svg\",iconCls:\"rm-backbtniconcls",748093,42,"Pay invoic",774927,49,"PAY\",itemId:\"pay",583312,40,770148,41,"rmamountfield\",name:\"AmountPaid",627028,34,"labelWidth:150",632512,49,"E",718281,42,"extselectfield\",label:\"Bank Account\",rmmandatory:true,labelWidth:150,usePicker:true,name:\"BankAccountID\",store:\"BankAccounts\",displayField:\"Description\",valueField:\"BankAccountID\",autoSelect:false,placeHolder:\"S",632923,36,632736,33,"Payment Method\",rmmandatory:true,labelWidth:150,usePicker:true,name:\"PaymentMethodID\",store:\"PaymentMethods\",displayField:\"Description\",valueField:\"PaymentMethodID\",autoSelect:false,placeHolder:\"S",632923,37,627904,73,781965,36,"Msg",781131,40,782962,362,"acceptPaymentForm:\"acceptpayment formpanel\",amountPaid:\"acceptpayment textfield[name=AmountPaid]\",bankAccount:\"acceptpayment extselectfield[name=BankAccountID]\",paymentMethod:\"acceptpayment extselectfield[name=PaymentMethodID]",783468,112,783612,55,"pay\":{tap:\"onPay",783777,107,"b){this.invoiceId=b.InvoiceId;this.fullAmount=b.BalanceDue;this.accountsReceivableCategoryID=b.AccountsReceivableCategoryID;this.customerId=b.CustomerId",783940,64,"this.loadSelectFields();",745792,43,"var a=this.getAcceptPaymentForm();a.setValues({AmountPaid:this.fullAmount})},loadSelectFields:function(){",747393,36,"BankAccount",747437,45,"BankAccount\"));RM.AppMgr.loadStore(b,function(){},this);",772942,36,"PaymentMethods\");a",767696,41,"aymentMethod\")",773128,35,"},this)",785467,163,"Payment Accepted",785710,45,"slidenavigationview\"",668720,42,"!a.AmountPaid){this.getAmountPaid",756287,36,"!a.BankAccountID){this.getBankAccount",756287,36,"!a.PaymentMethodID){this.getPaymentMethod",756287,36,714941,34,";return false}if(a.AmountPaid>this.fullAmount){this.getAmountPaid().showValidation(false);RM.AppMgr.showErrorMsgBox(\"Payment Amount cannot be more than the balance due amount of \"+RM.AppMgr.formatCurrency(this.fullAmount));b=false}return b},onPay",785476,39,"Form().getValues();a.InvoiceID=this.invoiceId;a.AccountsReceivableCategoryID=this.accountsReceivableCategoryID;a.CustomerSupplierID=this.customerId",773965,51,"AcceptPayment\",true,a",785351,75,780456,35,"onB",774527,74,"pay invoice",774614,77,785831,7357,"ageSize:8",793186,2445,"'+RM.AppMgr.formatCurrency(b.get(\"PeriodAmount\"",795703,2309,"svg\",iconCls:\"rm-backbtniconcls",798015,488]