["/*7ebdbee4212fbce7e8b12ca0387cd1b4e8cf359b",42,526609,":\"resources/images/icons/rm-menu.png",615710,41,526718,2250,",\"data\"",528968,27361,"Consts\",{alternateClassName:\"RM.Consts\",singleton:true,",622018,70,"20000,STORE_LOAD_TIME_OUT:12",622115,539,",NoAccessMsg:\"No access rights\"",556306,129,".map(function(b){return b.toLowerCase?b.toLowerCase():b});this.triggerUpdateEvent()},getPermission:function(b){var a=this.permissions.indexOf(b.toLowerCase())>-1;return a",556500,48,"a+\"_\"+b)},canApprove",556714,34,"Approve\")},canAdd",556557,38,"AddEdit\")},canView",556714,34,"V",556645,50,"D",556696,52,"Report\")},canSelec",556560,35,"Select\")},triggerUpdateEvent:function(){this.app.fireEvent(\"rm-permissionsupdated",556754,1386,"if(!RM.PermissionsMgr.canView(\"PAndLReport\")",558138,52,"dashboard-nodata\">'+RM.Consts.NoAccessMsg+\"</div>\");return}",558140,149,"green",558387,178,"reddoticon",558665,138,"Expenses))+'</span>",558823,170,559001,236,"msg\",flex:1},",559228,50,",{itemId:\"blankCont\",flex:1",673103,33,559310,203,"d){var b=this.getComponent(1);var e=RM.PermissionsMgr.canView(\"Invoices\");var a=RM.PermissionsMgr.canView(\"Bills\");var c=b.getComponent(\"msg\");c.setHidden(e||a);c",560723,43,"'+RM.Consts.NoAccessMsg+\"</div>\");b.getComponent(\"invoices\").setHidden(!e);b.getComponent(\"bills\").setHidden(!a);b.getComponent(\"blankCont\").setHidden(!(e||a)||(e&&a));if(!e&&!a){return}b",559536,96,"d",559633,226,"d",559860,78,"b",559958,91,"'+d.Bill",559641,110,"Bill",559758,32,"Due",560174,38,"$'+RM.AppMgr.valueWithCommas(d.Bill",559868,69,"},onBillsTap:function(){RM.ViewMgr.showBills()",560290,391,"!RM.PermissionsMgr.canView(\"AccountEnquiryReport\")",560701,65,"'+RM.Consts.NoAccessMsg+\"</div>\");return}",560678,1657,"!RM.PermissionsMgr.canView(\"Budgets\")",562355,85,"'+RM.Consts.NoAccessMsg+\"</div>\"});return}",562332,2141,"SecurePanel\",{extend:Ext.Panel,xtype:\"securepanel\",config:{permissionFor:\"",571167,32,"this.checkPermissions()}}},checkPermissions:function(){var a=this.getPermissionFor();if(a&&!RM.core.PermissionsMgr.canView(a)){RM.AppMgr.showErrorMsgBox(\"You are not permitted to view this screen\"",602648,37,564444,291,"Secure",565695,34,"securebutton\",config:{permissionFor:\"",571167,32,"this.checkPermissions()",566991,42,");RM.AppMgr.application.on({\"rm-permissionsupdated\":this.checkPermissions,scope:this})},checkPermissions:function(){var a=this.getPermissionFor();if(!a){return}var b=false;if(typeof(a)===\"string\"){b=RM.core.PermissionsMgr.canAddEdit(a)}else{b=RM.core.PermissionsMgr.canDo(a.name,a.action)}if(b){this.show()}else{this.hide(",597021,32,564736,3237,"RM.component.Secure",567977,39,"permissionFor:\"Invoices\",",568016,157,"xtype:\"securebutton\",permissionFor:\"Invoices",575582,86,568257,7136,"RM.component.SecurePanel,xtype:\"contacts\",config:{permissionFor:\"Contacts\",",568016,82,"Contact",672896,43,"xtype:\"securebutton\",permissionFor:{name:\"Contacts\",action:\"AddEdit\"},",737376,61,759498,47,"All",593016,44,575715,2418,"index:\"Cashbooks\",",578133,76,"CashbookMgr.selectCashBook()}},{index:\"Dashboard\",",578236,130,"index:\"I",578357,114,"index:\"T",578460,116,"index:\"E",578567,121,"index:\"C",578679,92,",data:{permsRequired:true",578770,99,",setSelectedItem:function(b){var a=this.store.getData().indexOfKey(b);if(a>0){this.list.select(a)}},isItemSelected:function(b){var a=this.store.getData().indexOfKey(b);if(a>0){return this.list.isSelected(a)}return false",526784,42,"RM.AppMgr.application.on({\"rm-permissionsupdated\":this.applyPermissions,scope:this})},applyPermissions:function(){this.store.clearFilter();this.store.filterBy(function(b){var c=b.get(\"data\");if(c&&c.permsRequired){var a=b.get(\"index\");return RM.PermissionsMgr.canView(a)}else{return true}})",578868,259,":\"resources/images/icons/rm-settings.png",654672,60,579217,863,"defaultBackAnimation:",648624,32,580079,179,"this.hideKeyPad();",580258,62,"this.appBackStack.pop();this.showDashboard(b);",580320,37,"b=b||this.defaultBackAnimation;a.onAfter(\"erased\",function(){this.destroy()});",580399,87,"this.hideKeyPad();c=c||this.defaultBackAnimation;var d=this.appBackStack.pop();var e=[d];d.onAfter(\"erased\",function(){e.forEach(function(f){f.destroy()})});while(this.appBackStack.length>0",580496,67,"=b){this.showPanel(a,c);break}e.push(a)}},appPause:function(){document.activeElement.blur();",580650,327,"setSelectedItem(\"Dashboard\"",582213,40,648624,34,581070,830,"setSelectedItem(\"Dashboard\"",581919,102,"isItemSelected(\"Dashboard\"",582038,47,"setSelectedItem(\"Bills\"",581919,43,582147,47,"setSelectedItem(\"Invoices\"",582213,93,"setSelectedItem(\"Timesheets\"",581919,43,582368,47,"setSelectedItem(\"Expenses\"",581919,43,582477,88,"this.hideKeyPad();",582565,193,"this.hideKeyPad();",582758,387,"hideKeyPad();",583140,1034,",hideKeyPad:function(){",624070,35,"ctiveElement.blur()}},setPostAnimationCallback:function(a,b){if(!a.listeners){a.listeners={}}a.listeners.animationend=b",584173,1045,":\"resources/images/icons/rm-back.png",733038,56,585302,577,":\"resources/images/icons/rm-back.png",733038,56,585963,452,":\"resources/images/icons/rm-back.png",733038,56,586499,1969,686495,57,":\"resources/images/icons/rm-back.png",759431,32,686612,165,603792,34,687021,36,588830,2101,"re.CashbookMgr\",{alternateClassName:\"RM.CashbookMgr\",singleton:true,config:{cashbookId:null,currentCashbook:null},getTaxPreferences:function(){return this.getCurrentCashbook().TaxPreference},getSalesPreferences:function(){return this.getCurrentCashbook().SalesPreferences},loadLastCashbook:function(a){if(this.getCashbookId()){this.setCashbook(this.getCashbookId());if(a){a()}}",624903,72,"setCashbookId(a.CashBookId)",624998,110,625119,178,"_currentCashbook.Dashboard",625310,65,"c,a,b){RM.AppMgr",625388,50,"c},function(d){this.setCashbookId(c);this.setCurrentCashbook(d[0",623147,33,"GSTCodes\").setData(d",625503,75,"d",625579,76,"d",625656,48,"this.getCurrentCashbook().Permissions)",625793,48,"});Ext.define(\"RM.component.SecureFormPanel",617354,32,"secureformpanel\",config:{permissionFor:\"",571167,32,"this.checkPermissions()}}},checkPermissions:function(){var a=this.getPermissionFor();if(a&&!RM.core.PermissionsMgr.canAddEdit(a)){this.getFieldsArray().forEach(function(b){if(b.setReadOnly){b.setReadOnly(true)}if(b.setPlaceHolder){b.setPlaceHolder(\"\")}})}this.getFieldsArray().forEach(function(d){var c=d.config.permissionFor;if(c){var b=RM.PermissionsMgr.canDo(c.name,c.action);if(c.invoke){d[c.invoke].apply(d,[b])}else{if(c.invokeWithInverse){d[c.invoke].apply(d,[!b])}else{d.setHidden(!b)}}}}",590909,717,";this.privateReadOnly=false",292015,35,591661,137,"if(this.privateReadOnly){return}",591798,428,",setReadOnly:function(a){this.privateReadOnly=a",245152,43,"RM.view.ContactDetail\",{extend:RM.component.Secure",592276,36,"permissionFor:\"Contacts\",",603232,111,":\"resources/images/icons/rm-back.png",711332,36,686622,55,"xtype:\"securebutton\",",592542,51,",permissionFor:{name:\"Contacts\",action:\"AddEdit\"}}]},{xtype:\"secureformpanel\",permissionFor:\"Contacts",592614,111,"enter\"",686800,52,592783,38,"\"Display ",593916,32,592880,1497,"e",594378,5572,":\"resources/images/icons/rm-back.png",711332,42,"Time Sheet",608640,64,600094,2627,710281,781,",b",711062,52,";b.stopPropagation(",591452,32,"AmountField\",{extend:RM.component.ExtTextField,xtype:\"rmamount",668063,56,"this.on(\"focus\",this.onFieldFocus,this)},onFieldFocus:function(d,c){this.fieldUniqueId=c.target.id;if(this.keypadOnTop){return}this.owningPanel=d.up(\"panel\");var b=",711908,53,",listeners:{keytap:this.onKeyTap,scope:this}};this.keypad=this.owningPanel.add(b);this.clearScrollTimer();var a=this.owningPanel",482802,36,"scrollTimer=window.setTimeout(function(){a.scrollTo(0,d.element.dom.offsetTop,true)},200);this.keypadOnTop=true;this.simulateCursor(d);this.rootContainer=this.getRootContainer(this.owningPanel);this.rootContainer.element.on({tap:this.handleTapInEntireScreen,scope:this})},removeKeypad:function(){var b=this.getValue();if(this.config.decimalPlaces&&b!=\"\"){this.setValue(this.getPrefix()+Ext.Number.toFixed(parseFloat(b),this.config.decimalPlaces))}",588003,59,";this.setPlaceHolder(this.config.placeHolder)}if(this.keypadOnTop){this.owningPanel.remove(this.keypad);this.keypadOnTop=false}this.clearScrollTimer();var a=this.owningPanel",482802,36,"scrollTimer=window.setTimeout(function(){a.scrollTo(0,0,true)},200)},onKeyTap:function(b){var e=this.getValue();var a=this.getPrefix()+e.toString();var d=a.length;var c=a.indexOf(\".\");if(b===\"back\"){if(d>0){a=a.slice(0,-1);this.setValue(a)}}else{if(this.config.decimalPlaces){if((b!=\".\"&&d-1<c+this.config.decimalPlaces)||c<0){if(a==this.getPrefix()+\"0\"&&b!=\".\"){a=this.getPrefix()}this.setValue(a+b)}}else{if(c!=-1&&b==\".\"){return}if(a==this.getPrefix()+\"0\"){a=this.getPrefix()}this.setValue(a+b)}}},get",599221,39,");var a=b.toString();if(this.config.prefix&&a.indexOf(this.config.prefix)!=-1){a=a.slice(this.getPrefix().length)}return a},applyValue:function(b,a){var c=b.toString();if(!a&&a!==\"\"){if(this.config.decimalPlaces&&c!==\"\"){c=Ext.Number.toFixed(parseFloat(c),this.config.decimalPlaces)}}if(c.indexOf(this.config.prefix)==-1&&c!==\"\"){c=this.config.prefix+c}return c},handleTapInEntireScreen:function(a){if(this.fieldUniqueId!==a.target.id){this.removeKeypad()}},getRootContainer:function(a){while(a.getParent()){a=a.getParent()}return a},getPrefix:function(){return(this.config.prefix?this.config.prefix:\"\")},simulateCursor",587779,203,"clearScrollTimer:function(){if(this.scrollTimer){window.clearTimeout(this.scrollTimer)}",603145,145,686495,39,707392,32,"back.png\",width:\"2.6em\",",603386,955,"rmamount",604350,54,711764,72,"clearIcon:false,decimalPlaces:2,prefix:\"$\"",604544,1639,"TaxStatus:function(a){this.taxStatus",606223,53,"nvoiceDate:function(a){this.invoiceDate",606268,175,"{taxStatus:this.taxStatus,invoiceDate:this.invoiceDate}",606459,522,"LineText",606992,617,"{taxStatus:this.taxStatus,invoiceDate:this.invoiceDate}",607625,811,"RM.component.Secure",608440,36,"permissionFor:\"Invoices\",",585792,87,":\"resources/images/icons/rm-back.png",608591,134,":\"resources/images/icons/rm-settings.png",608757,107,"secureformpanel\",permissionFor:\"Invoices",608873,3384,":\"resources/images/icons/rm-back.png",733038,50,612335,54,"secure",612389,138,",permissionFor:\"Invoices",612526,1398,614207,93,"},{text:\"Time\",itemId:\"time\",permissionFor:\"Timesheets_BillEntry\"",614330,37,"permissionFor:\"ExpenseClaims_BillEntry\"}],",614508,53,"a,d",657968,33,"hide,this);var b",614631,34,614067,87,"e){this.hide();a.call(d,e.getItemId())},scope:this}});var c=0;this.items.forEach(function(e){if(!e.permissionFor||RM.PermissionsMgr.getPermission(e.permissionFor)){b.add(e);if(e.itemId){c+=1}}});if(c>1){this.popup=b;b.show()}else{a.call(d,this.items[1].itemId)}",599671,47,614437,1318,":\"resources/images/icons/rm-back.png",672846,43,615826,3023,686495,57,":\"resources/images/icons/rm-back.png",618944,345," RM.CashbookMgr.getSalesPreferences().ApprovalProcessEnabled?\"INVOICED\":\"UNPAID\";case ",619776,38,619343,88,"getInitialInvoiceStatus:function(){if(RM.CashbookMgr.getSalesPreferences().ApprovalProcessEnabled){return RM.Consts.InvoiceStatus.DRAFT}else{return ",619737,32,"}",619429,235,"this.getInitialInvoiceStatus()",619693,2314,622656,85,622762,1830,"RM.CashbookMgr.getCashbookId()){RM.CashbookMgr.loadLastCashbook(function(){RM.ViewMgr.back()})}else{RM.CashbookMgr",624705,169,"RM.CashbookMgr.selectCashBook()}},this",625839,177,"RM.CashbookMgr",626020,625,"){apiUrl=this.getApiUrl(c)+\"/\"+e;this.getServerRec(apiUrl,{},a,b,d)},getServerRec:function(b,f,a,c,d){var e=this;if(b.substr(0,4)!==\"http\"){b=e.getApiUrl(b)}Ext.Ajax.request({url:b",627191,74,"e",628608,50,627319,57,"c",626894,42,"c",627420,141,";if(d){d.call(c||this,g)}},scope:this});e.setLoadingTimer(",627574,821,"d){var e=this;e.setLoadingTimer();var c=function(g,f,h){e",628608,63,"d,g,f,h)}}",628420,33,"g,f,h){if(h){c(g,f,h)}},scope:e",628692,206,"navigator.connection&&navigator.connection.type===\"none\"){this.showOkMsgBox(\"It looks like your device has no internet connection, please connect and try again.\");return}",628895,47,"Text===\"communication failure\"){this.showOkMsgBox(\"The connection failed, please try again or contact support.\")}else{if(a.status!=0){this.showErrorMsgBox(\"There was an error, please try again or contact support: <br/><br/> (\"+a.status+\" \"+a.statusText+\")\")}",628999,118,"qa",629121,275,"qa",629163,33,"r1mobileqa",629285,35,629399,462,629860,1517,"showInvalidEmail",631226,36,"\"Please enter a valid email address.\"",631374,2630,"validateEmail:function(a){var b=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+/;if(b.test(a)){return true}else{return false}",634002,995,":\"resources/images/icons/rm-back.png",608591,42,635067,67,"width:\"4em",635132,303,"QA Server\",value:\"qa",635419,406,"width:\"7em",635823,3612,":\"resources/images/icons/rm-back.png",733038,56,639519,93,"5",639615,8214,":\"resources/images/icons/rm-back.png",647839,3992,":\"resources/images/icons/rm-settings.png",654672,60,668831,35,651956,2686,":\"resources/images/icons/rm-settings.png",654672,1647,576874,37,"/coming-soon.aspx\",\"_blank\",\"location=no\"",656348,947,":\"resources/images/icons/rm-back.png",672846,37,657360,2846,":\"resources/images/icons/rm-back.png",733038,56,"Customer",585309,72,660370,2086,":\"resources/images/icons/rm-back.png",608591,42,662526,5104,"init:function(){this.callParent();RM.AppMgr.application.on({\"rm-permissionsupdated\":this.showDashboardData,scope:this})",667628,100,")},showDashboardData:function(",667777,64,"this.dashboardDat",667841,32,"this.dashboardDat",667873,37,"this.dashboardDat",667910,52,"this.dashboardDat",667962,733,":\"resources/images/icons/rm-back.png",733038,56,668779,87,"username and",668865,91,"textfield\",itemId:\"username\",label:\"Usernam",687553,37,687136,32,654962,32,668953,44,"rmmandatory:true,labelWidth:\"4em",601295,50,669073,748,"userName:\"forgotpassword #username",669819,421,"){var c=true;var b=this.getEmail().getValue();var a=this.getUserName().getValue();this.getEmail().showValidation(true);this.getUserName().showValidation(true)",670253,49,"c=false}if(a==\"\"){this.getUserName().showValidation(false);c=false}if(!RM.AppMgr.validateEmail(b)",736108,40,"c=false;RM.AppMgr.showInvalidEmailMsg();return c}if(!c",746526,40,"c},onSend",746575,36,670434,87,"UserName().getValue(),Email",670512,38,"a",670551,36,"b,a){this.showFail(a",670607,2061,"RM.component.SecurePanel,xtype:\"invoices\",config:{permissionFor:\"Invoices\",",568016,58,686495,57,":\"resources/images/icons/rm-back.png",672846,104,"xtype:\"securebutton\",permissionFor:\"Invoices",693168,99,673047,4918,"util.FormUtils\",{singleton:true,makeAllFieldsReadOnly:function(a){a.getFieldsArray().forEach(function(b){if(b.setReadOnly){b.setReadOnly(true)}if(b.setPlaceHolder){b.setPlaceHolder(\"\")}})",687871,37,677983,1274,",dateFld:{change:\"onInvoiceDateChange",671581,111,679365,164,"InvoicesMgr.getInitialInvoiceStatus()",680376,46,",Date:new Date(),Discount:\"None\"",679601,76,"&&RM.PermissionsMgr.canAddEdit(\"Invoices\"",679676,242,680008,299,"this.detailsData;if(b.CustomerId){",680560,78,"applyTaxRules",682848,32,680662,127,";this.getLineItems().setInvoiceDate(this.getDateFld().getValue());this.getLineItems().setTaxStatus(b.AmountTaxStatus",679911,66,"b.Status));this.dataLoaded=true}}",739164,36,680847,103,"if(!a){RM.util.FormUtils.makeAllFieldsReadOnly(this.getInvoiceForm())}",681093,38,"applyTaxRules:function(){var b=this.getAmountsFld();var a=RM.CashbookMgr.getTaxPreferences();b.setReadOnly(!this.isEditable||!a.AllowTaxEdit);if(this.isCreate){if(a.IsTaxTracking){b.setHidden(false);b.setValue(a.SalesFigures)}else{b.setHidden(true);b.setValue(RM.Consts.TaxStatus.NON_TAXED)}}else{var c=a.IsTaxTracking||b.getValue()!==RM.Consts.TaxStatus.NON_TAXED;b.setHidden(!c)}",681129,103,679913,64,"c.Status));",681232,378,"applyTaxRules",682848,32,681634,77,"CustomerId(c.CustomerId);b.setTaxStatus(c.AmountTaxStatus);b.setInvoiceDate(c.Date",681855,63,";if(this.detailsData.Paid>0){this.isEditable=false;this.setEditable(false)}this.dataLoaded=true},this,function(){this.goBack(",681944,878,"c,a,b",682823,57,"c.getValue();this.getLineItems().setTaxStatus(b)},onInvoiceDateChanged:function(b,a,c){if(!this.dataLoaded){return}this.calculateBreakdown();this.getLineItems().setInvoiceDate(c",682891,476,"g=",682204,34,"f",683404,39,"e={InvoiceDate:g.Date,AmountTaxStatus:g",683482,87,"g.Discount.indexOf(\"%\")>-1){e.DiscountPercentage=g",685839,34,"g.Discount.indexOf(\"$\")>-1){e.DiscountAmount=g",683699,41,"f.length;c++){var d=f[c];var b={ItemType:d.ItemType,ItemID:d.ItemId,Quantity:d.Quantity",690432,33,"TaxGroupID:d.TaxGroupId,Tax:d.Tax,TaxIsModified:d.TaxIsModified};if(d",683896,36,"d.DiscountPerc}if(d",683957,34,"d.DiscountAmount}e",684012,62,"e,function a(h){var m=h[0];var l=this.detailsData;l.Amount=m.InvoiceAmount;l.Tax=m.InvoiceTax?m.InvoiceTax:0;l.Subtotal=m.Subtotal;l.DiscountTotal=m.Discount?m.Discount:0;l.Paid=m.AmountPaid;l.BalanceDue=m.BalanceDue;var k=this.getLineItems();k.removeAllItems();for(var j=0;j<f.length;j++){f[j].Amount=m.Items[j].Amount;if(m.Items[j].DiscountAmount){f[j].DiscountAmount=m.Items[j].DiscountAmount}}k.setTaxStatus(e.AmountTaxStatus);k.addLineItems(f",684608,42,"h){alert(h",684660,1695,602711,220,"this.on(\"keyup\",this.valChange);this.on(\"blur\",this.numberPrecision",588254,76,603006,140,",valChange:function(a,f,c){var g=this.getValue();console.log(f.browserEvent.keyCode);if(!(47<f.browserEvent.keyCode<58||f.browserEvent.keyCode==190)){f.stopEvent()}if(g===null||g===undefined){console.log(g);return}var b=g.toString();var d=b.length;if(this.config.decimalPlaces&&b.indexOf(\".\")!=-1){if(d-1>(b.indexOf(\".\")+this.config.decimalPlaces)){this.setValue(b.substring(0,d-1))}}console.log(this.getValue()",633572,49,"&&Ext.isNumber(this.config.decimalPlaces)){this.setValue(a.toFixed(this.config.decimalPlaces))",686335,150,686495,57,":\"resources/images/icons/rm-back.png",759431,32,686612,126,"secureformpanel\",permissionFor:\"Invoices",686747,40,592732,51,588830,43,588798,32,"ItemPath",686861,98," (optional)\",permissionFor:{action:\"Select\",name:\"Projects\"},",687066,152,"itemId:\"descriptionField",687216,41,"[\"rm-flatfield\",\"rm-flatfield-last\"],placeHolder:\"enter\"},{xtype:\"panel\",itemId:\"detailsFields\",defaults:{clearIcon:false},hidden:true,items:[",687293,39,687337,189,687728,56,"[\"rm-flatfield\"]",604331,55,"value:0",711782,33,609822,33,687546,182,"numberfield\",name:\"Tax\",label:\"Tax\",cls:[\"rm-flatfield\",\"rm-flatfield-last\"]}]}]}]},showDetailsFields:function(){this.down(\"#descriptionField\").removeCls([\"rm-flatfield-last\"]);this.down(\"#detailsFields\").setHidden(false)},hideDetailsFields:function(){this.down(\"#descriptionField\").addCls(\"rm-flatfield-last\");this.down(\"#detailsFields\").setHidden(true)",687871,214,688092,34,":\"invoicelineitem field[name=UnitPrice]\",quantity:\"invoicelineitem ",688221,47,"field[name=TaxGroupId]\",tax:\"invoicelineitem field[name=Tax]\",amount:\"invoicelineitem field[name=Amount",688295,32,688334,49,688389,196,",unitPrice:{change:\"unitPriceChanged\"},tax:{change:\"taxAmountChanged\"},quantity:{change:\"quantityChanged\"}}},isTaxInclusive:function(){return this.taxStatusCode===RM.Consts.TaxStatus.INCLUSIVE},showView:function(e,f,d,g,a,c",688617,70,"taxStatusCode=d.taxStatus;this.invoiceDate=d.invoiceDate",716893,36,688736,236,",TaxIsModified:false",688972,603,"if(!this.isTaxInclusive()){this.getUnitPrice().setValue(this.detailsData.UnitPriceExTax)}this.getTaxCode().setHidden(this.taxStatusCode===RM.Consts.TaxStatus.NON_TAXED);if(this.detailsData.ItemId){this.getItemDetail().showDetailsFields()}",689622,45,"if(!a){RM.util.FormUtils.makeAllFieldsReadOnly(this.getItemForm())}",689814,482,"this.itemChanged(c[0]",690496,220,"!a.UnitPriceExTax){this.getUnitPrice",690784,307,"Tax:c.Tax,TaxIsModified:this.detailsData.TaxIsModified,UnitPriceExTax:this.detailsData",691107,306,",itemChanged:function(a){this.detailsData.ItemName=a.Name;this.detailsData.UnitPriceExTax=a.UnitPriceExTax;this.detailsData.TaxIsModified=false;this.ignoreEvents=tru",690338,39,"a.ItemId,ItemName:a.ItemPath,TaxGroupId:a.SaleTaxCodeID,Description:a.SalesDescription,UnitPrice:a.UnitPriceExTax});this.ignoreEvents=false;this.getServerCalculatedValues()},unitPriceChanged:function(c,b,a){if(!this.initShow||this.ignoreEvents){return}if(b===a){return}if(this.isTaxInclusive()){this.detailsData.TaxIsModified=false;this.getServerCalculatedValues(b)}else{this.detailsData.UnitPriceExTax=b;this.getServerCalculatedValues()}},taxAmountChanged:function(c,b,a){if(!this.initShow||this.ignoreEvents){return}this.detailsData.TaxIsModified=true;this.getServerCalculatedValues()},projectChanged:function(){},quantityChanged:function(){if(!this.initShow||this.ignoreEvents){return}this.getServerCalculatedValues()},getServerCalculatedValues:function(b){var d={AmountTaxStatus:this.taxStatusCode,PreviousAmountTaxStatus:this.taxStatusCode,CustomerId:this.customerId,InvoiceDate:this.invoiceDate,LineItems:[]};var c",741214,36,"e={ItemId:c.ItemId,Quantity:c.Quantity,TaxGroupID:c.TaxGroupId,Tax:c.Tax,Amount:c.Amount,TaxIsModified:this.detailsData.TaxIsModified,UnitPriceExTax:this.detailsData.UnitPriceExTax",691148,33,"e",691182,89,"e",691272,59,"b){e.UnitPrice=b}d.LineItems.push(e",686080,34,"Calc\",true,d,function a(g){var f=g[0].Items[0];this.detailsData.UnitPriceExTax=f.UnitPriceExTax;this.ignoreEvents=tru",690338,32,"UnitPrice:this.isTaxInclusive()?f.UnitPrice:f.UnitPriceExTax,Amount:f.Amount,Tax:f.Tax});this.getItemDetail().showDetailsFields();this.ignoreEvents=false},this,function(f){alert(f)},\"Working...\")",687871,37,691449,1444,"RM.component.Secure",692897,40,"permissionFor:\"Invoices\",",585792,87,":\"resources/images/icons/rm-back.png",733038,56,693108,5318,":\"resources/images/icons/rm-back.png",733038,56,698510,6405,":\"resources/images/icons/rm-back.png",733038,56,704999,956,"'+(a.AmountTaxStatus!==RM.Consts.TaxStatus.NON_TAXED?'",706335,37,705992,85,"':\"\")+'",706335,37,706114,873,":\"resources/images/icons/rm-back.png",733038,56,707071,1458,"var a=!(",708563,59,"&&RM.PermissionsMgr.canApprove(\"Invoices\"",708526,36,"a);var b=!(",708746,58,"&&RM.PermissionsMgr.canApprove(\"Invoices\"",708710,35,"b",708622,90,708805,1466,711133,157,":\"resources/images/icons/rm-back.png",711318,9196,"text",720520,1110,721645,11365,":\"resources/images/icons/rm-back.png",733038,175,"secure",733213,575,",permissionFor:{name:\"SalesPreferences\",action:\"View\"}",733788,228,",listeners:{focus:function(b){var a=b.getValue().split(\"\\n\").length;b.setMaxRows(a+2)},keyup:function(b){var a=b.getValue().split(\"\\n\").length;b.setMaxRows(a+2)}}",734016,2078,"this.getEmail().showValidation(true);",736174,33,"true)",736093,133,"RM.AppMgr.validateEmail(a.Email)",736108,47,";RM.AppMgr.showInvalidEmailMsg();return b",690816,49,736270,975,":\"resources/images/icons/rm-back.png",733038,50,742958,61,575566,55,737437,5457,":\"resources/images/icons/rm-back.png",743759,67,575520,46,743019,728,":\"resources/images/icons/rm-back.png",743759,15458,55391,32,".prototype.isNotPreventable=/^(select|a|input|textarea)$/i",759217,158,":\"resources/images/icons/rm-back.png",733038,56,"Item",585309,62,759525,366]