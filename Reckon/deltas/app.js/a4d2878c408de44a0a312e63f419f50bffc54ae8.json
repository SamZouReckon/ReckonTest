["/*edcc1f49a88effc3796ce23abd8b4cc9a604cfd",41,439507,440149,116348,"20000,VERSION:0.1",556514,587,"mponent.RMAmountField2",494496,32,"rmamountfield2\",config:{clearIcon:false,",494586,37,",listeners:{focus:\"onFieldFocus\",blur:\"onFieldBlur\"},cls:\"rm-flatfield\",prefix:\"\",decimalPlaces:2,trailingZerosUpTo:2",622976,56,"editing=false;this.oldValue=null;var b=this.getPrefix();var a=b?(this.getLabel()+\"&nbsp;&nbsp;\"+b):this.getLabel();if(this.config.rmmandatory){a=a",603915,38,"}this.setLabel(a",604094,83,",setValue:function(b){var b=parseFloat(b).toFixed(this.getDecimalPlaces());var a=this.callParent([b]);if(this.editing&&this.oldValue!=b",487002,32,",this.oldValue)",619767,32,"this.oldValue)}this.oldValue=this.getValue();return a},onFieldFocus:function(){this.editing=true},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}else{this.setValue(a)}this.editing=false},onChange:function(b,c,a){return",603424,75,615907,41,"3",706615,34,"rmamountfield3\",config:{clearIcon:false,listeners:{blur:\"onBlur\"},cls:\"rm-flatfield\",prefix:\"\",trailingZerosUpTo:2,placeHolder:\"\"",567808,51,592285,102,"inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\"></div>',true);this.displayEl.on(\"tap\",this.showInputFld,this);this.showDisplayValue(",604094,83,",s",609449,52,"this.showDisplayValue();return a},onBlur:function(){var a=this.getValue();if(Ext.isEmpty(a,true)){RM.AppMgr.showErrorMsgBox(\"Invalid number\",function(){this.setValue(this.editVal);this.showDisplayValue()},this)}else{this.showDisplayValue()}},showDisplayValue:function(){this.inputEl.hide();var b=this.getValue();if(b){var a=this.getPrefix()+RM.AppMgr.numberWithCommas(b.toFixed(2));this.displayEl.setHtml(a)}this.displayEl.show()},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue();this.focus()}},onChange:function(b,c,a){if(c!=this.editVal",294463,33,603424,75,599916,40,"2",494496,32,"rmphonefield2\",config:{clearIcon:false,",494586,37,",listeners:{blur:\"onFieldBlur\"},cls:\"rm-flatfield\"",567808,51,592285,97,604095,82,",s",609449,52,"return a},onFieldBlur:function(){var a=this.getValue();if(a==\"\"){this.element.down(\"input\").dom.value=\"\"}",294438,59,610998,101,"RMPhoneField3",494496,32,"rmphonefield3\",config:{clearIcon:false,listeners:{blur:\"onBlur\"},",494586,37,621919,33,"\"",567808,51,592285,102,"inputEl=this.element.down(\"input\");this.displayEl=this.inputEl.insertHtml(\"afterEnd\",'<div class=\"x-input-el x-form-field\"></div>',true);this.displayEl.on(\"tap\",this.showInputFld,this);this.showDisplayValue(",604094,49,"var a=this.callParent();return a},s",609449,52,"this.showDisplayValue();return a},showDisplayValue:function(){this.inputEl.hide();var a=this.getValue();this.displayEl.setHtml(a);this.displayEl.show()},showInputFld:function(){if(!this.getReadOnly()){this.displayEl.hide();this.inputEl.show();this.editVal=this.getValue();this.focus()}},isValidPhoneNr:function(b){var a=parseFloat(b,10);return(isNaN(a))?false:true},onBlur:function(){var a=this.getValue();if(this.isValidPhoneNr(a)){this.showDisplayValue(",706493,34,"Invalid phone number\",function(){this.setValue(\"\");this.showDisplayValue()},this)}",603424,75,"});Ext.define(\"RM.view.TestScreen\",{extend:Ext.Panel,xtype:\"testscreen",633312,68,604468,39,"html:\"Test Screen\"},",651916,33,665068,33,671913,41,"itemId:\"testScreenForm\",defaults:{",758976,34,"},items:[{xtype:\"textfield\",label:\"Test1\",name:\"Test1\"},{xtype:\"textfield\",label:\"Test2\",name:\"Test2\",placeHolder:\"enter\"},{xtype:\"textfield\",label:\"Test3\",name:\"Test3\"},{xtype:\"rmamountfield2\",label:\"Quantity\",name:\"Quantity\",labelWidth:120,rmmandatory:true,readOnly:false,prefix:\"\",listeners:{change:function(b,c,a){console.log(\"rmamountfield2 change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test5\",name:\"Test5\"},{xtype:\"rmphonefield2\",label:\"Bus Phone\",labelWidth:120,name:\"BusPhone\"",758884,37,",readOnly:false,listeners:{change:function(b,c,a){console.log(\"rmphonefield change newValue=\"+c+\", oldValue=\"+a)}}},{xtype:\"textfield\",label:\"Test6\",name:\"Test6\"}]}]}",557081,474,"if(a==\"Items\"){return false}",557555,1607,"setViewData:function(a){",559440,226,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome,0,true",559741,111,"'+RM.AppMgr.formatCurrency(a.NetPositionExpenses,0,true",559929,118,"'+RM.AppMgr.formatCurrency(a.NetPositionIncome-a.NetPositionExpenses,0",560117,1240,"'+RM.AppMgr.formatCurrency(d.InvoicesOverdueAmount,0",561801,55,561464,288,"'+RM.AppMgr.formatCurrency(d.BillsOverdueAmount,0",561801,492,562452,1615,"c){try",564069,37,"c==null||c",562462,33,564316,106,"c.length;a++){this.addBudget(c[a],a)}this.paintChart(c)}catch(b){console.log(\"**** Exception in BudgetOverview setViewData \"+b.message)}",564477,1736,"scrollable:\"vertical\",cls:\"rm-dashboard",566252,129,",",623915,36,"hidden:true,itemId:\"noaccesscont\",items:[{xtype:\"img\",src:\"resources/images/icons/rm-noaccess-icon.png\",width:75,height:69,margin:\"25px auto\"},{xtype:\"component\",html:\"You do not have enough access </br>rights to view the dashboard\",cls:\"rm-update-title\",margin:\"-5 0 30 0\"",669052,34,"tap the top left button to </br>gain access to other parts of this book.\",cls:\"rm-update-msg\",margin:\"20 0 20 0",634989,34,566411,12530,"Mobil",578943,86,"0.1",579032,12327,627807,52,"if(RM.PermissionsMgr.canAddEdit(\"Items\")){this.add(",591360,81,")}var a=",630108,59,591558,855,"a){if(!Ext.fly(a.target).hasCls(\"x-clear-icon\")){this.fireEvent(\"tap\",this,a)}",592441,5953,",scrollShowField:function(e,b,c,a){if(this.keyCb&&this.keyFldEleId!==b){this.keyCb.onFieldLostFocus.call(this.keyCb)}this.keyFldEleId=b;this.keyCb=a;var d=this;d.clearScrollTimer();d",601454,42,"d.scrollTimer=null;d.getScrollable().getScroller().scrollTo(0,e.element.dom.offsetTop,true)},300);this.showKeyPad(c)},showKeyPad:function(b){if(!this.keypad){",617004,45,600959,79,"if(!this.keypad||b!==this.keypadType){var a=",770090,41,"keypadType:b",600541,63,"add(a)}else{this.keypad.show()}this.keypadType=b",632335,36,"Keypad,this)},hideKeypad:function(){this.keypad.hide();this.scrollTop();this.keyCb.onFieldLostFocus.call(this.keyCb",668394,33,"onKeyTap:function(a){this.keyCb.onKeyTap.call(this.keyCb,a);if(a===\"done\"){this.hideKeypad()}if(a===\"cancel\"){this.hideKeypad()}",601972,46,"keyCb&&this.keyFldEleId!==a.target.id){this.keyCb.onFieldLostFocus.call(this.keyCb);this.hideKeypad();this.keyCb=null",618800,80,"crollTop:function(){var a=this;a.clearScrollTopTimer();if(!a.scrollTimer){this.scrollTop",616848,37,"getScrollable().getScroller().scrollTo(0,0,false)},300)}",602384,96,"ScrollTop",602397,32,"op",602527,32,"scrollTopTimer",667645,32,598423,1676,612126,42,622976,56,"on(\"tap",600190,98,"b,a){console.log(this.getId()+\" onFieldFocus\");if(this.fieldMaskEl){this.clearCursorBlinkTimer()",600320,48,"a",616470,50,"owningPanel=b.up(\"panel\"",600621,42,"owningPanel.scrollShowField(b,a.target.id,\"phone\",this)},onFieldLostFocus:function(){console.log(this.getId()+\" onFieldLostFocus\"",601342,36,"fireValueChangeEvent(this.getValue())",617614,35,601588,40,601648,58,601726,248,602145,34,"a",602183,51,"a",602238,106,"a.myCursorOff=!a.myCursorOff},500)",602473,35,"console.log(this.getId()+\" clearCursorBlinkTimer\");",602508,662,"this.element.on(\"tap\",function(b){if(Ext.fly(b.target).hasCls(\"x-clear-icon\")){this.setValue(null)}},this);",603170,2964,"2\",cls:\"rm-flatfield",606171,163,"2",621918,34,606386,285,"2\",cls:\"rm-flatfield",606708,161,"2",621918,34,606921,4546,"this",296062,37,";return b},showClearIcon:function(){var a=this;if(a.getClearIcon()&&!a.getDisabled()&&!a.getReadOnly()){a",293817,60,"a},resetPicker:function(){var a=this;",611500,240,"b){if(!this.config.rmmandatory){this.addClearButton(b);this.clearButton.setHidden(!a.getValue())}",610551,83,",scope:this}})},updateValue",279215,39,611840,156,",addClearButton:function(a){if(this.clearButtonAdded){return}var b=a.getToolbar();var c=",669547,33,"e,f){var d=e.up(\"datepicker\");d.fireEvent(\"change\",d,null);d.hide()},text:\"Clear\"};this.clearButton=b.add(c);this.clearButtonAdded=true",611995,955,577936,32,612967,366,"secure",613333,2867,612126,42,622976,56,"on(\"tap",600190,98,"b,a){if(this.fieldMaskEl){this.clearCursorBlinkTimer()",600320,48,"a",616470,50,"inEditMode=true;this.owningPanel=b.up(\"panel\"",600621,42,"owningPanel.scrollShowField(b,a.target.id,\"amount\",this)},onFieldLostFocus:function(){this.inEditMode=false;this.clearCursorBlinkTimer();var a=this.getValue();if(a==\".\"){a",601118,37,"a",617318,54,"a))}this.fireValueChangeEvent(a)",617614,59,601648,58,617771,885,"inEditMode",618667,41,618879,33,"a",602183,51,"a",602238,106,"a.myCursorOff=!a.myCursorOff},500)",602473,345,"d){var c=d?d.toString():\"\"",619572,173,"if(this.valBeforeChange!==undefined",602895,36,"this.valBeforeChange=b",619801,534,577936,32,620352,533,"secure",620885,4558,"(c.LineText||c.Description||c.ItemName)",625456,1066,626536,189,"clearIcon:true",626724,6914,"secure",633638,1241,"clearIcon",634672,48,607456,94,635015,4998,"util.MathHelpers\",{singleton:true,roundToEven:function(d,e){e=e||0;var h=Math.pow(10,e);var f=+(d*h);var g=Math.floor(f);var c=f-g;var a;var b=1e-8;if(c-b<0.5&&c+b>0.5&&g%2==0){a=g}else{a=Math.round(f)}return a/h",639994,3169,643188,614,"&&j.status!=401",643802,345,",e,h,g){var f=this;f",644161,34,"k,j,l){f",643888,32,644235,33,"k,j,l",644273,36,"k,j,l){if(l){c(k,j,l)}},scope:f",644340,200,"c",644541,178,"c",644720,35,"c",644756,128,"c.status==412){var a=Ext.decode(c.statusText);this.showAppStop(a)}else{var b=c.statusText?\" \"+c.statusText:\"\";",644989,93,"c.status+b+\")\")",645113,165,"production",645285,105,"production\"){this.baseApiUrl=\"https://mobile.reckonone.com/api\"}else{if(b==\"preproduction\"){this.baseApiUrl=\"https://preprodmobile.reckonone.com",645372,287,645657,4217,"formatCurrency:function(c,b,e){if(isNaN(c)){c=0}var a=(c<0);var d=Math.abs(RM.util.MathHelpers.roundToEven(c,b));c=\"$\"+d.toFixed(b)",620159,38,"if(a&&e){return\"(\"+c+\")\"}return(((a)?\"-\":\"\")+c)},unformatCurrency",630605,33,"()?(-)?(\\$)?(,)?(\\))?/g,\"",649870,893,";Ext.create(\"RM.view.TestScreen\",{xtype:\"testscreen\",fullscreen:true",697072,32,"Ma",669792,32,650827,97,"controller.TestScreen",695824,44,"testScreen:\"testscreen\",testScreenForm:\"testscreen #testScreenForm\",},control:{testscreen:{show:\"onShow\"},\"testscreen #save\":{tap:\"save\"}}",661743,32,"TestScreenForm().getValues();console.log(Ext.encode(a))},onShow:function(){var a={Test1:\"A Text field\",Quantity:25,ItemPrice:52625.45,BusPhone:\"072367672\"};this.getTestScreenForm().setValues(a",650904,614,"Production\",value:\"production\"},{text:\"Pre Production\",value:\"preproduction\"},",651511,40,651589,40,651555,34,651625,35,651687,1117,623087,32,582480,96,578863,39,"layout:\"vbox\",align:\"center\",items:[{xtype:\"img\",src:\"resources/images/icons/rm-update-icon.png\",height:40,width:40,margin:\"25px auto\"},{xtype:\"component\",html:\"A new update has been released!\",cls:\"rm-update-title\",margin:\"-14 0 5 0\"},{xtype:\"component\",html:\"Click below to update for security & stability.\",cls:\"rm-update-msg\",margin:\"0 0 25 0\"},{xtype:\"button\",itemId:\"update\",text:\"Update app >\",cls:\"rm-photopreviewbtn",622384,75,653017,108,"\"appstop #update\":{tap:\"onUpdate\"}}},showView:function(a){this.stopErr=a",653187,45,"Update",437371,34,"window.open(this.stopErr.AndroidUpgradeUrl,\"_system\")}if(Ext.os.is.iOS){window.open(this.stopErr.IosUpgradeUrl)}",656408,36,695823,45,653399,7454,700221,111,"ContactForm()",700764,56,660905,151,";if(Ext.isDefined(b.SaveSupport)&&!b.SaveSupport){this.setEditable(false)}if(b.ViewNotice){RM.AppMgr.showOkMsgBox(b.ViewNotice)}},this,function(a){RM.AppMgr.showOkMsgBox(a);this.goBack(",661082,1070,"RM.AppMgr.showOkMsgBox",662157,1333,663104,54,663546,7431,"RM.AppMgr.showOkMsgBox",670982,1043,"M",672026,2210,"RM.AppMgr.showOkMsgBox",674241,2922,",function(a){if(a.length==0){RM.AppMgr.showOkMsgBox(\"You do not have any books to select.\",RM.AppMgr.lock,RM.AppMgr)}},this,null,null,function(){RM.AppMgr.login()",758189,169,677331,4032,",zeroLineItemsCheckBox:\"budgetlineitems rmcheckbox\"},control:{budgetlineitems:{show:\"onShow\"},",681374,113,"c,b){this.budgetId=c;this.budgetName=b;",681492,90,"},onShow:function(){this.hideZeroLineItems=this.hideZeroLineItems||false;this.getBudgetTitle().setHtml(this.budgetName);this.getZeroLineItemsCheckBox().setValue(this.hideZeroLineItems);var a=",681792,40,754911,42,"BudgetLineItems\"));a.filter(\"BudgetId\",this.budgetI",681743,54,"hideZeroLineItems=a",690397,44,681792,40,";a.removeAll();a.filter(\"IncludeZeroItems\",!this.hideZeroLineItems);RM.AppMgr.loadStore(a",682878,37,681997,2878,",noaccessCont:\"dashboard #noaccess",684870,295,560745,33,"PAndLReport\"",560699,50,"c",560750,40,"d=",562294,49,";var b=",564107,36,";if(this.getNoaccessCont()){this.getNoaccessCont().setHidden(a||e||c||d||b)}if(this.getDashboardCont()){if(a",685191,55,"}if(e||c){",685247,48,"}if(d){",685296,65,"}if(b){",685362,72,"this.getNetPosition().setHidden(!a);this.getAlerts().setHidden(!(e||c));this.getTopExpenses().setHidden(!d);this.getBudgetOverview().setHidden(!b",685432,3073,"your password reset details",688542,1125,695456,47,689991,39,"else{a.setGroupField(null)}this.loadList()",591850,32,689698,192,690052,432,727536,46,"s\")",690480,482,"RM.AppMgr.showOkMsgBox",690967,2908,"&&this.getCustomerInvoices()",696430,62,693937,107,",customerId:this.customerId",694044,2343,"else{this.activeList.reload()}",740124,35,693867,70,696492,2051,"f,a,e",698548,61,"f?f:{};",766720,33,"e",742214,43,"c){var d=new Date();d.setHours(0,0,0,0);",698674,115,"ashbookMgr.getTaxPreferences().SalesFigures,Date:d",698830,2396,"RM.AppMgr.formatCurrency",701248,193,"if((Ext.isDefined(c.SaveSupport)&&!c.SaveSupport)||",701697,71,701441,253,"this.dataLoaded=true;if(c.ViewNotice){RM.AppMgr.showOkMsgBox(c.ViewNotice)}},this,function(a){RM.AppMgr.showOkMsgBox(a);",701806,169,"this.goBack();RM.AppMgr.showOkMsgBox",701980,1870,"if(b",732011,48,"){c=c.map(function(e){e.TaxGroupId=null;e.Tax=null;return e})",703849,226,"AmountExTax:e.DiscountAmountExTax,DiscountAmountTax:e.DiscountAmountTax",704066,275,704344,448,"RM.AppMgr.showOkMsgBox(e);this.goBack(",704799,1685,"RM.AppMgr.showOkMsgBox",706489,1934,"clearIcon",613754,37,708454,1018,593837,38,709527,95,"autoSelect:false",593952,40,709661,1777,",itemI",711348,34,"Id]\",projectName",711398,36,"Name]\",",711438,253,",clearicontap:function(){this.taxAmountChanged(null,null)}},taxCode:{change:\"taxCode",711683,86,",projectName:{change:\"projec",711759,321,"isCreate=true;",712075,73,"UnitPriceAccuracy:2,Quantity:1,TaxGroupId:null",712158,151,"b",712310,70,"getAdd",742556,47,699313,37,"Tax().setReadOnly(!",700443,34,".AllowTaxEdit);if(!this.initShow){b.reset();b",747344,37,"DiscountDisplay",712484,75,"var a=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?this.detailsData",717149,43,"this.detailsData.UnitPriceAccuracy);this.getUnitPrice().setValue(a);if(",711805,41,712692,178,"ialFormValues=b.getValues();this.initShow=true}",701998,32,743259,35,"Item",747581,47,712885,190,"setDiscountDisplayValue:function(b,a){var c;if(b){c=b+\"%\"}else{if(a){c=RM.AppMgr.formatCurrency(a,2)}else{c",713470,33,"c",713528,505,"go",656719,35,662268,104,"add",749231,51,661087,39,714107,69,714242,174,"delete c.Amount;delete c.UnitPrice;delete c.Tax;delete c.Discount",714415,75,714596,579,"this.ignoreControlEvents()){return}var c=b.toString().split(\".\");if(c.length==2&&c[1].length>1){this.detailsData.UnitPriceAccuracy=c[1].length}else{this.detailsData.UnitPriceAccuracy=2",715216,142,"this.ignoreControlEvents()",715391,34,"Amount=null",717280,38,"null;",712490,35,"=null;if(b.indexOf(\"%\")>-1){",712490,35,713190,58,"if(",715221,40,"DiscountAmount=RM.AppMgr.unformatCurrency(b",713438,32,"AmountExTax=RM.AppMgr.unformatCurrency(b)}}",715632,33,715460,46,"this.ignoreControlEvents()",715539,133,"taxCodeChanged:function(){if(this.ignoreControlEvents()){return",715632,64,"c,b,a){if(this.ignoreControlEvents()){return}if(!b){this.getProjectId().setValue(null)}if(this.getItemId().getValue()){}",715698,32,"this.ignoreControlEvents()){return",715632,33,715804,47,"f",715852,420,"if",712489,36,"){e.DiscountPercentage=",712490,35,716368,64,";e.DiscountAmount",716392,35,"Tax}switch(f",716441,199,"this.isTaxInclusive()?this.detailsData.DiscountAmount:",716396,36,";e.DiscountAmountExTax=this.isTaxInclusive()?null:this.detailsData.DiscountAmount;e.DiscountAmountTax=null",716656,116,"g",716773,55,"UnitPriceExTax=g.UnitPriceExTax;this.detailsData.UnitPrice=g.UnitPrice;this.detailsData.Amount=g.Amount;this.detailsData.AmountExTax=g.AmountExTax;this.detailsData.AmountTax=g.AmountTax;this.detailsData.Tax=g.",716850,41,"g",716892,62,"g.DiscountedTaxExcl",716906,32,"Amount=g.DiscountAmount",717280,38,"g.Discount",716842,37,"AmountTax=g.DiscountAmountTax;this.setDiscountDisplay",712484,75,"this.setTaxModified(g.TaxIsModified);var h=RM.util.MathHelpers.roundToEven(this.isTaxInclusive()?g",717149,43,"this.detailsData.UnitPriceAccuracy",717084,42,"h,Amount:RM.util.MathHelpers.roundToEven(g.Amount,2),Tax:RM.util.MathHelpers.roundToEven(g.Tax,2)})",717339,51,"g){alert(g)},\"Working...\")},ignoreControlEvents",715715,56," true}",721520,37,717453,14405,"{0",732185,67,731928,57,731986,196,732183,121,732305,127,"{4",732185,67,732502,61,"{5",732185,56,732622,71,732694,42,"Currency(a.Subtotal),this.formatCurrency(a.DiscountTotal),this.formatCurrency(a.AmountExTax),this.formatCurrency(a.Tax),this.formatCurrency(a.Amount),this.formatCurrency(a.Paid),this.formatCurrency(a.BalanceDue)))},formatCurrency:function(a){return RM.AppMgr.formatCurrency(a,2",682878,37,733056,2315,"slidenavigationview\");RM.AppMgr.showSuccessMsgBox(\"Invoice \"+this.invoiceData.InvCode+\" was Approved.\")},this,function(a,b){RM.AppMgr.showOkMsgBox",735407,1636,"secure",737043,94,"2",737137,105,737260,44,"2",737304,112,737434,373,"rmamountfield2\":{focus:\"onFieldFocus\"",737839,526,"RM.AppMgr.unformatCurrency(b",738404,33,"Focus:function(a){console.log(\"focus\"",738180,40,738608,478,"RM.AppMgr.formatCurrency",739119,38,",2)}",654943,34,739196,5745,"RM.AppMgr.showSuccessMsgBox(\"Timesheet saved\"",735307,35,"timesheet\");this.goBack()},this",744953,57,"RM.AppMgr.showOkMsgBox",745015,6448,";RM.AppMgr.itemUpdated(\"expense\"",751462,1337,"var f=Ext.decode(e.responseText);if(f.success){",751398,55,"RM.AppMgr.itemUpdated(\"expense\");this.goBack()},this)}else{RM.AppMgr.showOkMsgBox(f.eventMsg)}},failure:function(e){",643816,34,"e",752897,6024,",labelWidth:\"4",627550,33,758951,9455,"createitem:{show:\"onShow\"},",768406,57,"save",675115,73,768542,175,"how:function(){this.initialFormValues",768737,37,661743,33,768747,214,"RM.AppMgr.showOkMsgBox(c)})}",701998,32,743259,35,"CreateItem",702093,44,661087,39,769013,250,"go",656719,35,662268,159,771085,36,770207,40,769373,8069,"idProperty:\"AcctCatName\",",777442,7072,"TestScree",784509,2157]