["/*168447ef1d6383d853bbd28aa01fd826b9465d56",42,465291,465411,1371,",pointerdown:\"touchstart\",pointermove:\"touchmove\",pointerup:\"touchend\",pointerc",466763,441,"!Ext.browser.is.Ripple&&",467203,44,467246,119,468064,37,467610,87415,555737,744,"util.Log",641483,41,"Log\",debug:function(a){",555009,733,556483,5695,"area",562178,340,";RM.Log.debug(\"Cashbook loaded as Read Only, permissions overrides will apply to AddEdit, Delete and certain Do actions.\")",562518,13076,"this.config.sortfields==null",575599,12098,"onSelect:function(c,b,a",579440,34,"fireEvent(\"itemselected\",b.raw)",587695,2022,";this.setUpNavigationListeners(",589716,5074,",setUpNavigationListeners",592843,34,"addListener(\"itemselected\",function(a){this.navigationHandler(a,this.activeView)},this);this.mainView.addListener(\"activeitemchange\",function(a,c,b){this.navigationHandler(c,b)},this)},getActiveView:function(){return this.activeView},navigationHandler:function(b,a){b=this.viewOrActiveSlideNavChild(b);a=this.viewOrActiveSlideNavChild(a);this.activeView=b;this.app.fireEvent(\"rm-activeviewchanged\",b)},viewOrActiveSlideNavChild:function(a){if(a.xtype===\"slidenavigationview\"){return this.mainNavContainer.getActiveItem().raw}else{return a}",594789,15442,610251,34171,"doAfterLogin(b",644547,355,"doAfterLogin(a",645027,85,"doAfterLogin:",644885,144,"if(a.LoginAlert",563339,32,"LastLoginAlert\"),c=null;if(b){c=Ext.decode(b)}if(!c||(c.AlertId!=a.LoginAlert.AlertId)||(a.LoginAlert.RepeatInterval>0&&Ext.Date.now()/1000-c.LastShown>a.LoginAlert.RepeatInterval)){this.showRMMsgPopup(a.LoginAlert.Text,a.LoginAlert.AlertType,[{text:\"OK\",itemId:\"ok\"}]);localStorage.setItem(\"RmLastLoginAlert\",Ext.encode({AlertId:a.LoginAlert.AlertId,LastShown:Ext.Date.now()/1000}))}}",645110,2709,"CommsError",647827,183,"CommsError",648018,353,"howCommsError:function(a){if(!this.showingCommsError){this.showingCommsError=true;this.showOkMsgBox(a,function(){this.showingCommsError=false},this)",648367,3064,"g,f,b,a,e,d){",651003,44,"if(!Ext.isEmpty(f)){c.add({xtype:\"image\",src:\"resources/images/rm-msgbox-\"+f+\".svg\"",651615,40,"}c.add({xtype:\"component\",html:g",651687,215,"h){c.hide();if(a&&e){a.call(e,h",651358,38,651971,512,"warning",652483,93,"warning",652576,121,"warning",652697,2135,"config:{refs:{mainView:\"mainview\"},control:{mainView:{activeitemchange:\"onActivate\"}}}",654831,80,",onActivate:function(a,c,b){",654910,31156,"delete this.searchFilter;",708158,43,686109,78,686696,34,683983,41,686287,6703,"onItemUpdate",693005,102,"if(this.needsRefresh){this.refreshDashboard()}else{this.showDashboardData()}},onItemUpdated:function(){this.needsRefresh=true",693131,88,"needsRefresh=false;",693214,11447,";",704592,35,"rm-activeviewchanged\",\"onActiveViewChang",704652,265,"&&this.dataLoaded){RM.Log.debug(\"invoices list reload scheduled\");this.reloadOnNextActivation=true}},onActiveViewChanged:function(a){if(!this.reloadOnNextActivation){return}if(a.xtype===this.getInvoices().xtype){this.reloadOnNextActivation=false;this.activeList.reload();RM.Log.debug(\"invoices list reloaded\"",704942,1847,"onS",706790,742,"this.detailsData.SaveSupport",707609,483,",SaveSupport:true",708092,1331,"onSave:function(a){this.save()",709421,1601,"lineItemsDirty=false",711016,2922,"if(b.Previous",745691,47,713849,35,713971,32,714002,1783,779760,37,"OkCancelMsgBox(\"You must save your changes to continue, save now?\",function(a){if(a==\"ok\"){this.save(this.onInvoiceActions)}},this)}else{this.onInvoiceActions",725312,47,715852,161,"b",713327,42,"d",716056,60,"c=Ext.applyIf(d,this.detailsData);delete c.DiscountPerc;delete c.DiscountAmount;if(c.Discount.indexOf(\"%\")>-1){c.DiscountPerc=c",713640,34,"c.Discount.indexOf(\"$\")>-1){c.DiscountAmount=c",716323,34,"c.Discount;c.Notes=this.noteText;c",716391,32,"c.Date);c.DueDate=c",716442,35,"c",716478,36,"c)){if(d.LineItems.length>0){var a=1;d.LineItems.forEach(function(e){e.lineNo=a;if(e.IsNew){delete e",716614,69,"c)",729584,33,"s\",this.isCreate,c,function(e){",716799,32,";if(b){",756896,34,".InvoiceId=e[0].InvoiceId}this.dataLoaded=false;this.isCreate=false;b.apply(this)}else{this.goBack()}},this,function(e,f){RM.AppMgr.showOkMsgBox(f)})",681280,33,716912,59335,776325,95,"f){this.messagetemplateRec=f;RM.ViewMgr.showPanel(b)}",754540,32,"this.messagetemplateRec;",776287,35,776423,108,776538,2153,785448,36,778691,71,608253,68,",maxRows:10",774648,167,778775,22331,"}});if(Ext.os.version.gtEq(\"7\")){if(Ext.os.deviceType===\"Tablet\"||!Ext.browser.is.Safari||window.navigator.standalone){Ext.define(\"Ext.iOS7Fix1.Viewport\",{override:\"Ext.viewport.Ios\",constructor:function(){var d={},b={},a=this.determineOrientation(),f=window.screen.height,c=window.screen.width,e=a===this.PORTRAIT?f-window.innerHeight:c-window.innerHeight;d[this.PORTRAIT]=f-e;d[this.LANDSCAPE]=c-e;b[this.PORTRAIT]=c;b[this.LANDSCAPE]=f;this.stretchHeights=d;this.stretchWidths=b;this.callOverridden(arguments);this.on(\"ready\",this.setViewportSizeToAbsolute,this);this.on(\"orientationchange\",this.setViewportSizeToAbsolute,this)",547848,36,"this.stretchHeights[this.orientation]",547796,35,"this.stretchWidths[this.orientation]},setViewportSizeToAbsolute:function(){this.setWidth(this.getWindowWidth());",550460,39,"})}if(Ext.os.deviceType===\"Tablet\"){Ext.define(\"Ext.iOS7Fix2.Viewport\",{override:\"Ext.viewport.Ios\"",553183,33,"Overridden(arguments);window.addEventListener(\"scroll\",function(){if(window.scrollX!==0){window.scrollTo(0,window.scrollY)}},false)},setViewportSizeToAbsolute",554439,32,";",108359,34,"}",801200,706]